window.wized_config = window.wized_config || [];
window.wized_config.push({"createdTimestamp":1715375910,"type":"development","id":"nEsROkaT6bAyzXl56PMP","projectId":"WMGPH2y4YPYIfOsGNDqW","version":2,"publishedTimestamp":1743401446,"showBranding":true,"updatedTimestamp":1743401446,"cookies":[{"expires":7,"name":"token","id":"c7c6757e-fd62-4e29-a456-8bbb1e5a4f0f"}],"folders":[{"name":"Finsweet","id":"052ded6a-3026-47ea-938b-e85fe8f6a680","type":"requests"},{"parent":"15f99f6a-64fd-48a1-87b5-3edfb66d8b51","name":"User","id":"0e763887-a835-4cea-9a8a-18fb4284be78","type":"requests"},{"parent":"1a86bedd-4a3d-4ad5-8083-d48bb041a465","name":"Slab Pricing","id":"13bc0502-eb1e-4d6c-a429-27a6122d2d72","type":"events"},{"name":"Xano","id":"15f99f6a-64fd-48a1-87b5-3edfb66d8b51","type":"requests"},{"parent":"c4d6b377-ceac-4b4f-9a32-09e0bc8d9945","name":"Render User Listings","id":"1837e9db-4986-4497-81ed-cb0efae38009","type":"events"},{"name":"Google Sheets","id":"1a86bedd-4a3d-4ad5-8083-d48bb041a465","type":"events"},{"parent":"1a86bedd-4a3d-4ad5-8083-d48bb041a465","name":"Slab Variants","id":"42ed4538-7702-479e-b5ee-9e944555d130","type":"events"},{"name":"Google Sheets","id":"4dfcadd2-2b5f-4c1a-8a3d-836774bcc26c","type":"requests"},{"parent":"0e763887-a835-4cea-9a8a-18fb4284be78","name":"Pro","id":"4e0eae0a-19d9-414e-b657-23981fb3fa21","type":"requests"},{"parent":"15f99f6a-64fd-48a1-87b5-3edfb66d8b51","name":"Auth","id":"59c29535-f363-47d8-bcab-06a6cf05c12d","type":"requests"},{"parent":"o20w7VspjJshqrOYsLb9","name":"Pro","id":"9b13f907-23d9-4545-87db-872d4941b5c1","type":"events"},{"parent":"OGe2jGLtQxvUxcMPBhcE","name":"/countertops/item","id":"ESsvZumWbeP4qE3vnw3j","type":"events"},{"name":"3. Pages","id":"OGe2jGLtQxvUxcMPBhcE","type":"events"},{"name":"1. Global","id":"TJznn2oVmSlVrcXHeHYf","type":"events"},{"id":"Yu03fU9u0B41VK4uhaIA","type":"events","name":"Estimates"},{"name":"OpenAI","id":"ZMyBi3fugVCMo7WSRO7Z","type":"requests"},{"parent":"OGe2jGLtQxvUxcMPBhcE","name":"/tools/ai-room-visualizer","id":"ZZjc0He3LISiwajFB3rm","type":"events"},{"parent":"9b13f907-23d9-4545-87db-872d4941b5c1","name":"Listings","id":"c4d6b377-ceac-4b4f-9a32-09e0bc8d9945","type":"events"},{"parent":"TJznn2oVmSlVrcXHeHYf","name":"Auth","id":"dd5a6a20-de10-4f44-aad9-5c9dccf85ad7","type":"events"},{"parent":"4e0eae0a-19d9-414e-b657-23981fb3fa21","name":"Listing","id":"e3b4012c-022b-42b3-9dbc-06ccec5bc164","type":"requests"},{"parent":"OGe2jGLtQxvUxcMPBhcE","name":"tools/estimate-calculator","id":"fc570028-cbac-4ae6-ad7e-d0b54210a9c7","type":"events"},{"parent":"OGe2jGLtQxvUxcMPBhcE","name":"/index","id":"iHMdvYp1qP17PJrTAw9A","type":"events"},{"name":"2. User","id":"o20w7VspjJshqrOYsLb9","type":"events"},{"id":"v1bwgXKNLoO8A0WHPn7E","type":"requests","name":"SheetDB"},{"parent":"OGe2jGLtQxvUxcMPBhcE","name":"/countertops","id":"yZPocC3NRFCm41K21B4o","type":"events"}],"parameters":[{"id":"bg6p8IpygrDQJcIX1BhZ","name":"id"}],"variables":[{"name":"slabCatalog","id":"3ac8375f-2346-41b0-96a3-d0061b71b1bf","initialValue":"return 0"},{"name":"userListings","id":"4207dbeb-e0b7-4a2e-a6d9-351d231aabf6","initialValue":"return 0"},{"name":"index","id":"4691679c-55b9-462b-86f6-7d52e5ef2a70","initialValue":"return 0"},{"name":"slabPricing","id":"88bdbb0c-7ed6-4e00-97ad-b5a8605933bf","initialValue":"return 0"},{"name":"i","id":"fbe8e34a-e417-4448-b0cd-55acc0e46386","initialValue":"return 1"},{"name":"slabVariants","id":"fc32ce2b-35fe-4592-8b9c-b0f528f04603","initialValue":"return 0"}],"apps":[{"baseUrl":"return 'https://sheets.googleapis.com/v4'","name":"Google Sheets","id":"077088e6-ee6d-495e-af28-55d853401461","type":"rest"},{"baseUrl":"return 'https://xuwn-iege-vbca.n7d.xano.io/api:haa72too'","name":"Xano","id":"6ffa702f-4650-4d7f-8386-4c85efd60f2b","type":"rest"},{"id":"DF4P7EZDq5CI6zfq03n2","name":"SheetDB","type":"rest","baseUrl":"return \"https://sheetdb.io/api/v1\""},{"baseUrl":"return 'https://api.openai.com/v1'","name":"OpenAI","id":"emy68zCYdUMSiEferfzu","type":"rest"}],"actions":[{"name":"04. Listings Business Category","attributes":[{"name":"listingsBusinessCategory"}],"id":"062a5600-8715-4ffe-8ac9-e274e81e67b1","type":"element","actions":[{"type":"text","value":"return v.userListings[v.index].business_category","setting":"text"}],"folderId":"1837e9db-4986-4497-81ed-cb0efae38009"},{"name":"05. Listings Date Created","attributes":[{"name":"listingsDateCreated"}],"id":"10735045-94ec-4657-a776-5aec083044e9","type":"element","actions":[{"type":"text","value":"const timestamp = v.userListings[v.index].created_at; // index timestamp\n\n// Create a Date object from the timestamp\nconst date = new Date(timestamp); // Automatically handles milliseconds\n\n// Define an array of month names\nconst months = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\n\n// Extract the date components\nconst month = months[date.getMonth()]; // getMonth() returns a zero-based value (0-11)\nconst day = date.getDate(); // getDate() returns the day of the month (1-31)\nconst year = date.getFullYear(); // getFullYear() returns the full year (e.g., 2024)\n\n// Format the date as \"Jan/19/2024\"\nconst formattedDate = `${month}/${day}/${year}`;\n\nreturn formattedDate","setting":"text"}],"folderId":"1837e9db-4986-4497-81ed-cb0efae38009"},{"name":"Slab Pricing: Vendor Name","attributes":[{"name":"cmsItemBrand"}],"id":"10b2c712-f236-4d0c-a2a8-e4d352abbb5f","type":"element","actions":[{"type":"text","value":"return v.slabPricing.values[v.index][1]","setting":"text"}],"folderId":"13bc0502-eb1e-4d6c-a429-27a6122d2d72"},{"name":"Slab: Thickness","attributes":[{"name":"slabThickness"}],"id":"19467fac-41a5-457c-8e17-43b448614c55","type":"element","actions":[{"type":"text","value":"return v.slabCatalog.values[v.index][7]","setting":"text"}],"folderId":"fc570028-cbac-4ae6-ad7e-d0b54210a9c7"},{"condition":"return n.path === '/tools/estimate-calculator' || /^\\/countertops\\//.test(n.path);\n","name":"Request get_google-sheets","trigger":"page-complete","id":"1999d8a7-d782-4342-b01c-46aa404c9aad","after":[{"request":"8095d536-6559-4b48-9841-cb31b91fe75c","action":"perform-request"}],"type":"event","hasCondition":true,"folderId":"fc570028-cbac-4ae6-ad7e-d0b54210a9c7"},{"request":"ba6e9b05-be40-405e-9122-58380d4c32dd","name":"02. After Create Listing","id":"1e40fff9-21f2-412c-b451-0eec73361132","trigger":"after-request","after":[{"condition":"return r.create_listing.ok","action":"navigate-to","hasCondition":true,"url":"return '/account/pro-directory/listings'"}],"type":"event","folderId":"c4d6b377-ceac-4b4f-9a32-09e0bc8d9945"},{"name":"01. Create Listing","attributes":[{"name":"formCreateListing"}],"id":"25b26d65-0750-498c-957f-0ef3b2d2492e","type":"element","actions":[{"request":"ba6e9b05-be40-405e-9122-58380d4c32dd","condition":"return n.path === '/account/pro-directory/new'","action":"perform-request","event":"submit","hasCondition":true,"preventDefault":true,"setting":"on-event"}],"folderId":"c4d6b377-ceac-4b4f-9a32-09e0bc8d9945"},{"name":"Slab: TotalSqFt","attributes":[{"name":"slabTotalSqFt"}],"id":"28364334-cfbc-4ae2-aae8-f6ddf9408770","type":"element","actions":[{"type":"text","value":"return v.slabCatalog.values[v.index][10]","setting":"text"}],"folderId":"fc570028-cbac-4ae6-ad7e-d0b54210a9c7"},{"name":"01. Render User Listings","attributes":[{"name":"userListing"}],"id":"308b62ce-21f2-4150-90f7-6536a733b2d5","type":"element","actions":[{"indexVariable":"4691679c-55b9-462b-86f6-7d52e5ef2a70","value":"return v.userListings","setting":"list"}],"folderId":"1837e9db-4986-4497-81ed-cb0efae38009"},{"name":"01. Item: Business Name","attributes":[{"name":"listingsBusinessName"}],"id":"31331dea-6823-42be-a6ef-4ea5f2cc3c4c","type":"element","actions":[{"type":"text","value":"return v.userListings[v.index].business_name","setting":"text"}],"folderId":"1837e9db-4986-4497-81ed-cb0efae38009"},{"condition":"// return document.querySelector('[wized-data=\"getSlabs\"]') !== null;\n","name":"Request Slab Pricing","trigger":"page-complete","after":[{"request":"54ba69a4-bd80-464a-a280-f57483101e43","action":"perform-request"}],"id":"33cea291-39ea-4739-aef1-9968d05c0852","type":"event","hasCondition":true,"folderId":"13bc0502-eb1e-4d6c-a429-27a6122d2d72"},{"request":"0845cb91-4260-46bf-99fa-d1bcc5ff5087","condition":"return r.get_user.ok","name":"03. Get User Listings","id":"366dcc73-d1e3-47a5-85ad-f45647373e06","after":[{"request":"0ed8946b-7780-44c6-9ec0-136d26a39a0e","action":"perform-request"}],"trigger":"after-request","type":"event","hasCondition":true,"folderId":"c4d6b377-ceac-4b4f-9a32-09e0bc8d9945"},{"name":"Slab: Material","attributes":[{"name":"slabMaterial"}],"id":"39ea4f3e-1cf5-4e89-a6f1-ff933cef3acf","type":"element","actions":[{"type":"text","value":"return v.slabCatalog.values[v.index][6]","setting":"text"}],"folderId":"fc570028-cbac-4ae6-ad7e-d0b54210a9c7"},{"name":"03. Listings Email","attributes":[{"name":"listingsEmail"}],"id":"3db2135f-b6d7-466f-986f-af50f08cdcbc","type":"element","actions":[{"type":"text","value":"return v.userListings[v.index].email","setting":"text"}],"folderId":"1837e9db-4986-4497-81ed-cb0efae38009"},{"name":"02. Listings City","attributes":[{"name":"listingsCity"}],"id":"3f0beedd-0b4f-4664-9c4b-e50190d30034","type":"element","actions":[{"type":"text","value":"return v.userListings[v.index].city","setting":"text"}],"folderId":"1837e9db-4986-4497-81ed-cb0efae38009"},{"request":"54ba69a4-bd80-464a-a280-f57483101e43","condition":"return r.get_slab_pricing.ok","name":"Slab Pricing: Matrix Matching","id":"42291e64-3be7-4fd9-915e-3338561c3ad9","trigger":"after-request","after":[{"function":"return getSlabPricing();","action":"run-function"}],"type":"event","hasCondition":true,"folderId":"13bc0502-eb1e-4d6c-a429-27a6122d2d72"},{"name":"Render Slab Variants","attributes":[{"name":"slabVariantItem"}],"id":"47ab2466-67f8-447c-8c3e-e2ab4f82d8f1","type":"element","actions":[{"indexVariable":"4691679c-55b9-462b-86f6-7d52e5ef2a70","value":"return v.slabVariants.values\n","setting":"list"}],"folderId":"42ed4538-7702-479e-b5ee-9e944555d130"},{"name":"Slab Variants: Finish","attributes":[{"name":"slabVariantsFinish"}],"id":"4bd38f69-4fa6-4d4b-a18b-0fb0b1255051","type":"element","actions":[{"type":"text","value":"return v.slabVariants.values[v.index][6];","setting":"text"}],"folderId":"42ed4538-7702-479e-b5ee-9e944555d130"},{"request":"0ed8946b-7780-44c6-9ec0-136d26a39a0e","condition":"return r.get_user_listings.ok","name":"Set User Listings Variable","id":"4f403a02-46c7-4d64-8e2e-cad57be08d06","after":[{"variable":"4207dbeb-e0b7-4a2e-a6d9-351d231aabf6","action":"set-variable","value":"return r.get_user_listings.data"}],"trigger":"after-request","type":"event","hasCondition":true,"folderId":"c4d6b377-ceac-4b4f-9a32-09e0bc8d9945"},{"name":"Slab Catalog: Loader","attributes":[{"name":"slab-list-loader"}],"id":"4sOkcIi8YGs6RuamQbWp","type":"element","actions":[{"condition":"return r.get_slab_catalog.ok","class":"hide","setting":"class"}],"folderId":"fc570028-cbac-4ae6-ad7e-d0b54210a9c7"},{"name":"Set Variants Visible","attributes":[{"name":"variantPricingComponent"}],"id":"51be630f-be08-457f-a338-824eed19c820","type":"element","actions":[{"condition":"// return v.slabVariants && Array.isArray(v.slabVariants.values) && v.slabVariants.values.length !== 0;\n","class":"is-active","setting":"class"}],"folderId":"42ed4538-7702-479e-b5ee-9e944555d130"},{"request":"8095d536-6559-4b48-9841-cb31b91fe75c","condition":"return r.get_slab_catalog.ok && /^\\/countertops\\//.test(n.path);","name":"Set Slab Variants Variable","trigger":"after-request","id":"5446ca53-9e5e-40eb-bbd2-3c533fb4be6a","after":[{"variable":"fc32ce2b-35fe-4592-8b9c-b0f528f04603","action":"set-variable","value":"const slabName = i.slabVariantName;\nconst slabVendorName = i.slabVariantVendor;\nreturn { values: r.get_slab_catalog.data.values.filter(([itemName, vendor]) => itemName === slabName && vendor === slabVendorName) };\n"}],"type":"event","hasCondition":true,"folderId":"42ed4538-7702-479e-b5ee-9e944555d130"},{"name":"Slab Variants: Name","attributes":[{"name":"slabVariantName"}],"id":"5b1c047e-56c6-4900-8fd9-d49eabb37568","type":"element","actions":[{"type":"text","value":"return v.slabVariants.values[v.index][0]","setting":"text"}],"folderId":"42ed4538-7702-479e-b5ee-9e944555d130"},{"request":"8095d536-6559-4b48-9841-cb31b91fe75c","condition":"return r.get_slab_catalog.ok && n.path === '/tools/estimate-calculator';","name":"slabCatalog_setVariable","id":"6444fd2e-9dda-4154-adad-3f9019d00dc9","trigger":"after-request","after":[{"variable":"3ac8375f-2346-41b0-96a3-d0061b71b1bf","action":"set-variable","value":"\nreturn r.get_slab_catalog.data"}],"type":"event","hasCondition":true,"folderId":"fc570028-cbac-4ae6-ad7e-d0b54210a9c7"},{"request":"54ba69a4-bd80-464a-a280-f57483101e43","condition":"return r.get_slab_pricing.ok;","name":"Slab Pricing: Set Variable","id":"76743827-7e06-4f9e-b84d-71d2ef1afd5c","trigger":"after-request","after":[{"variable":"88bdbb0c-7ed6-4e00-97ad-b5a8605933bf","action":"set-variable","value":"\nreturn r.get_slab_pricing.data"}],"type":"event","hasCondition":true,"folderId":"13bc0502-eb1e-4d6c-a429-27a6122d2d72"},{"name":"Slab: Vendor Name","attributes":[{"name":"slabVendor"}],"id":"7854144c-113d-4663-824e-52d4728026e3","type":"element","actions":[{"type":"text","value":"return v.slabCatalog.values[v.index][3]","setting":"text"}],"folderId":"fc570028-cbac-4ae6-ad7e-d0b54210a9c7"},{"name":"slabCatalog_slabCostPerSqFt","attributes":[{"name":"slabCostSqFt"}],"id":"78bb78f4-0ba3-4ffa-b454-40da0dd2c705","type":"element","actions":[{"type":"text","value":"return v.slabCatalog.values[v.index][11]","setting":"text"}],"folderId":"fc570028-cbac-4ae6-ad7e-d0b54210a9c7"},{"name":"Submit create_user","attributes":[{"name":"formAuth"}],"id":"82be7b33-cae9-46a2-abe0-30f23a77c45d","type":"element","actions":[{"request":"e6691557-aec7-4ed3-8968-1fc2e2165674","condition":"return n.path === '/account/signup' || n.path.includes('/for-pros/')","action":"perform-request","event":"submit","hasCondition":true,"preventDefault":true,"setting":"on-event"}],"folderId":"dd5a6a20-de10-4f44-aad9-5c9dccf85ad7"},{"name":"Slab Pricing: Render","attributes":[{"name":"cmsItem"}],"id":"8568aa03-e6a6-429e-9012-73297ddea371","type":"element","actions":[{"indexVariable":"4691679c-55b9-462b-86f6-7d52e5ef2a70","value":"return v.slabPricing.values\n","setting":"list"}],"folderId":"13bc0502-eb1e-4d6c-a429-27a6122d2d72"},{"name":"slabCatalog_renderCatalog","attributes":[{"name":"slabItem"}],"id":"8cb3f144-4886-4150-b540-c6a76c568f80","type":"element","actions":[{"indexVariable":"4691679c-55b9-462b-86f6-7d52e5ef2a70","value":"return v.slabCatalog.values\n","setting":"list"}],"folderId":"fc570028-cbac-4ae6-ad7e-d0b54210a9c7"},{"name":"Logout user","attributes":[{"name":"logout"}],"id":"90e4dea5-63d2-4c70-b949-a1e7274337d8","type":"element","actions":[{"cookie":"c7c6757e-fd62-4e29-a456-8bbb1e5a4f0f","action":"set-cookie","event":"click","value":"return ''","preventDefault":true,"setting":"on-event"},{"action":"navigate-to","event":"click","url":"return '/'","setting":"on-event"}],"folderId":"dd5a6a20-de10-4f44-aad9-5c9dccf85ad7"},{"name":"Slab: Name","attributes":[{"name":"slabVariant"}],"id":"93e2a1c7-a10c-4a0b-af73-ad18dd1405c9","type":"element","actions":[{"type":"text","value":"return v.slabCatalog.values[v.index][0]","setting":"text"}],"folderId":"fc570028-cbac-4ae6-ad7e-d0b54210a9c7"},{"name":"Slab: Cost","attributes":[{"name":"slabCost"}],"id":"948d9bea-8fef-41a2-be80-151776c00204","type":"element","actions":[{"type":"text","value":"return v.slabCatalog.values[v.index][12]","setting":"text"}],"folderId":"fc570028-cbac-4ae6-ad7e-d0b54210a9c7"},{"request":"67797d21-ec3b-43e9-b0fb-bc8d04cca05c","name":"After login_user","id":"997d4cf2-cc5e-4a19-b613-eda9836d2adb","trigger":"after-request","after":[{"cookie":"c7c6757e-fd62-4e29-a456-8bbb1e5a4f0f","action":"set-cookie","value":"return r.login_user.data.authToken"},{"condition":"return r.login_user.ok","action":"navigate-to","hasCondition":true,"url":"return '/account/dashboard'"}],"type":"event","folderId":"dd5a6a20-de10-4f44-aad9-5c9dccf85ad7"},{"name":"Slab: Labor Cost Per SqFt","attributes":[{"name":"LaborCostPerSqFt"}],"id":"Mpi955ijVg6etMU6Xkns","type":"element","actions":[{"type":"text","value":"return v.slabCatalog.values[v.index][13]","setting":"text"}],"folderId":"fc570028-cbac-4ae6-ad7e-d0b54210a9c7"},{"name":"slabCatalog_slabAvailability","attributes":[{"name":"slabAvailability"}],"id":"O5zCEuwHxn3FIpJTbvDh","type":"element","actions":[{"type":"text","value":"return v.slabCatalog.values[v.index][2]","setting":"text"},{"condition":"return v.slabCatalog.values[v.index][2] === \"In Stock\"","class":"is-in-stock","setting":"class"},{"condition":"return v.slabCatalog.values[v.index][2] === \"Out of Stock\"","class":"is-out-of-stock","setting":"class"},{"condition":"return v.slabCatalog.values[v.index][2] === \"Available Soon\"","class":"is-available-soon","setting":"class"}],"folderId":"fc570028-cbac-4ae6-ad7e-d0b54210a9c7"},{"name":"Room Visualizer: Generate Image","attributes":[{"name":"generateImageform"}],"id":"Qjh0OmgyWfKkAClIxfqS","type":"element","actions":[{"request":"Iit3RSbAL9TIQIimcB3j","action":"perform-request","event":"submit","preventDefault":true,"setting":"on-event"}],"folderId":"ZZjc0He3LISiwajFB3rm"},{"request":"Iit3RSbAL9TIQIimcB3j","condition":"return r.get_generated_image.ok","name":"Room Visualizer: Load Image","id":"UB66W86d26Kuc20kTQyj","trigger":"after-request","after":[{"function":"// Select the img element with the attribute wized=\"genImage\"\nconst imgElement = document.querySelector('img[wized=\"genImage\"]');\n\n// Check if the element exists to avoid errors\nif (imgElement) {\n    // Update the src attribute with the desired value\n    imgElement.src = r.get_generated_image.data.data[0].url;\n\n    // Select the element with the attribute wized=\"imageLoading\"\n    const loadingElement = document.querySelector('[wized=\"imageLoading\"]');\n\n    // Check if the loading element exists to avoid errors\n    if (loadingElement) {\n        // Remove the class is-requesting from the loading element\n        loadingElement.classList.remove('is-requesting');\n    }\n\n    // Add the class is-loaded to the img element\n    imgElement.classList.add('is-loaded');\n}\n","action":"run-function"}],"type":"event","hasCondition":true,"folderId":"ZZjc0He3LISiwajFB3rm"},{"name":"Submit login_user","attributes":[{"name":"formAuth"}],"id":"a97a409b-0dbb-41a4-a065-8a460bf2ad35","type":"element","actions":[{"request":"67797d21-ec3b-43e9-b0fb-bc8d04cca05c","condition":"return n.path === '/account/login'","action":"perform-request","event":"submit","hasCondition":true,"preventDefault":true,"setting":"on-event"}],"folderId":"dd5a6a20-de10-4f44-aad9-5c9dccf85ad7"},{"name":"Slab: Finish","attributes":[{"name":"slabFinish"}],"id":"aade9d26-8e69-4d8d-aebb-28ab8758a5d0","type":"element","actions":[{"type":"text","value":"return v.slabCatalog.values[v.index][8]","setting":"text"}],"folderId":"fc570028-cbac-4ae6-ad7e-d0b54210a9c7"},{"name":"Room Visualizer: Loader","attributes":[{"name":"imageLoading"}],"id":"acnpt2RBPaKD6Lbn9A3I","type":"element","actions":[{"condition":"return r.get_generated_image.isRequesting === true;","class":"is-requesting","setting":"class"}],"folderId":"ZZjc0He3LISiwajFB3rm"},{"name":"Slab Variants: Installed Price","attributes":[{"name":"slabVariantInstalledPrice"}],"id":"b0974368-a097-44a1-bd08-4e543094f511","type":"element","actions":[{"type":"text","value":"return v.slabVariants.values[v.index][11];","setting":"text"}],"folderId":"42ed4538-7702-479e-b5ee-9e944555d130"},{"name":"Slab Variants: Slab Price","attributes":[{"name":"slabVariantSlabPrice"}],"id":"b86d0a82-4802-4ca9-b82e-b0b1d36438a6","type":"element","actions":[{"type":"text","value":"return v.slabVariants.values[v.index][10];","setting":"text"}],"folderId":"42ed4538-7702-479e-b5ee-9e944555d130"},{"name":"Slab Variants: Total SqFt","attributes":[{"name":"slabVariantTotalSqFt"}],"id":"b8bde9e1-babe-4839-9a33-d0c900fee753","type":"element","actions":[{"type":"text","value":"return v.slabVariants.values[v.index][8];","setting":"text"}],"folderId":"42ed4538-7702-479e-b5ee-9e944555d130"},{"request":"8095d536-6559-4b48-9841-cb31b91fe75c","condition":"return r.get_slab_catalog.ok","name":"slabCatalog_reinitializeAttributesFilter","id":"bf03fa5a-db02-4ea7-bd52-a1198f189fca","trigger":"after-request","after":[{"function":"window.fsAttributes.cmsfilter.destroy();\nwindow.fsAttributes.cmsfilter.init();","action":"run-function"}],"type":"event","hasCondition":true,"folderId":"fc570028-cbac-4ae6-ad7e-d0b54210a9c7"},{"request":"e6691557-aec7-4ed3-8968-1fc2e2165674","name":"After create_user","after":[{"cookie":"c7c6757e-fd62-4e29-a456-8bbb1e5a4f0f","action":"set-cookie","value":"return r.create_user.data.authToken"},{"condition":"return r.create_user.ok","action":"navigate-to","hasCondition":true,"url":"return '/account/dashboard'"}],"id":"c4c35182-a7fa-4d40-9051-e91182aeffb2","trigger":"after-request","type":"event","folderId":"dd5a6a20-de10-4f44-aad9-5c9dccf85ad7"},{"request":"0845cb91-4260-46bf-99fa-d1bcc5ff5087","name":"Handle Access Control","id":"cf41ba35-e53d-495b-8aee-16a62c2188f1","after":[{"condition":"return !r.get_user.ok","action":"navigate-to","hasCondition":true,"url":"return '/account/login'"}],"trigger":"after-request","type":"event","folderId":"dd5a6a20-de10-4f44-aad9-5c9dccf85ad7"},{"name":"Slab Pricing: Name","attributes":[{"name":"cmsItemKeyword"}],"id":"d5ed888d-c436-4b47-b0ab-d92da6c4f5c2","type":"element","actions":[{"type":"text","value":"return v.slabPricing.values[v.index][0]","setting":"text"}],"folderId":"13bc0502-eb1e-4d6c-a429-27a6122d2d72"},{"name":"Slab Variants: Thickness","attributes":[{"name":"slabVariantsThickness"}],"id":"db052710-2f98-44db-9d69-33452437a04b","type":"element","actions":[{"type":"text","value":"return v.slabVariants.values[v.index][5];","setting":"text"}],"folderId":"42ed4538-7702-479e-b5ee-9e944555d130"},{"condition":"return n.path.startsWith('/account/') && !(n.path.endsWith('/signup') || n.path.endsWith('/login'))","name":"Submit get_user","after":[{"request":"0845cb91-4260-46bf-99fa-d1bcc5ff5087","action":"perform-request"}],"trigger":"condition","id":"dbfa6269-a8ad-4ca8-8196-6fea87b09532","type":"event","folderId":"dd5a6a20-de10-4f44-aad9-5c9dccf85ad7"},{"name":"Slab Pricing: Price","attributes":[{"name":"cmsItemPrice"}],"id":"dc3797d4-dceb-45ee-9cd5-b65ae99b1587","type":"element","actions":[{"type":"text","value":"return v.slabPricing.values[v.index][3]","setting":"text"}],"folderId":"13bc0502-eb1e-4d6c-a429-27a6122d2d72"},{"name":"Slab Variants: Size","attributes":[{"name":"slabVariantSize"}],"id":"e1548a86-c340-4d68-b160-a4b621abbd8d","type":"element","actions":[{"type":"text","value":"return v.slabVariants.values[v.index][7];","setting":"text"}],"folderId":"42ed4538-7702-479e-b5ee-9e944555d130"},{"name":"Slab: Retail Labor Markup","attributes":[{"name":"retailLaborMarkup"}],"id":"gLKmzj8CpQRqcBhXRlaO","type":"element","actions":[{"type":"text","value":"return v.slabCatalog.values[v.index][14]","setting":"text"}],"folderId":"fc570028-cbac-4ae6-ad7e-d0b54210a9c7"},{"name":"Slab: Status","attributes":[{"name":"slabStatus"}],"id":"mnvQHjsMWAFnANukdA6S","type":"element","actions":[{"type":"text","value":"return v.slabCatalog.values[v.index][1]","setting":"text"},{"condition":"return v.slabCatalog.values[v.index][1] === \"Active\"","class":"is-active","setting":"class"},{"condition":"return v.slabCatalog.values[v.index][1] === \"Discontinued\"","class":"is-discontinued","setting":"class"},{"condition":"return v.slabCatalog.values[v.index][1] === \"Coming Soon\"","class":"is-coming-soon","setting":"class"}],"folderId":"fc570028-cbac-4ae6-ad7e-d0b54210a9c7"},{"name":"Slab: Size","attributes":[{"name":"slabSize"}],"id":"qHme4ImsUX1GMhE4izjP","type":"element","actions":[{"type":"text","value":"return v.slabCatalog.values[v.index][9]","setting":"text"}],"folderId":"fc570028-cbac-4ae6-ad7e-d0b54210a9c7"},{"name":"Slab: Retail Slab Markup","attributes":[{"name":"retailSlabMarkup"}],"id":"rp1nqSKRKVeD7Qope820","type":"element","actions":[{"type":"text","value":"return v.slabCatalog.values[v.index][15]","setting":"text"}],"folderId":"fc570028-cbac-4ae6-ad7e-d0b54210a9c7"}],"elements":[{"id":"058fb867-3c29-41c9-a870-a5cb28171a01","name":"slabVariantTotalSqFt","text":{"value":"return v.slabVariants.values[v.index][8];"}},{"id":"0cc1668b-633a-488e-b872-4d54a98904e7","name":"slabItem","list":{"indexVariable":"4691679c-55b9-462b-86f6-7d52e5ef2a70","value":"return v.slabCatalog.values\n"}},{"id":"11859771-17e5-4804-9b68-7b18e3983a62","name":"formCreateListing","events":[{"id":"5f3ffcba-78a5-4b0f-9a60-7ed284328664","type":"submit","actions":[{"id":"3655612c-e5e6-43e4-b582-56b48813f2e1","type":"perform-request","request":"ba6e9b05-be40-405e-9122-58380d4c32dd","hasCondition":true,"condition":"return n.path === '/account/pro-directory/new'"}],"hasCondition":false,"preventDefault":true}]},{"id":"17a8be44-b088-4b39-a497-1be50d2f9243","name":"variantPricingComponent","classes":{"values":[{"id":"82af76b0-83a2-4ed9-9b9c-4b4edbf3ae1e","class":"is-active","condition":"// return v.slabVariants && Array.isArray(v.slabVariants.values) && v.slabVariants.values.length !== 0;\n"}]}},{"id":"2188a281-f3b0-4d05-ad2f-e911fa262e6a","name":"retailSlabMarkup","text":{"value":"return v.slabCatalog.values[v.index][15]"}},{"id":"2e7bbb04-25de-484b-a70e-ef7f5c378a88","name":"slabStatus","text":{"value":"return v.slabCatalog.values[v.index][1]"},"classes":{"values":[{"id":"3da7d1b3-ee0a-4d51-bd4a-46636575cc91","class":"is-active","condition":"return v.slabCatalog.values[v.index][1] === \"Active\""},{"id":"9cef342d-1139-467c-bbe6-bca9a5e1247b","class":"is-discontinued","condition":"return v.slabCatalog.values[v.index][1] === \"Discontinued\""},{"id":"9df1235c-d818-4088-8c1b-ade06257b6aa","class":"is-coming-soon","condition":"return v.slabCatalog.values[v.index][1] === \"Coming Soon\""}]}},{"id":"3bac2cf7-58b2-4fa1-afbb-afc3cd8d354d","name":"logout","events":[{"id":"ce8ffce2-b125-4b9f-81c1-8980550eb4c9","type":"click","actions":[{"id":"e44d8311-a2bc-402a-88da-4c4f84402b36","type":"set-cookie","cookie":"c7c6757e-fd62-4e29-a456-8bbb1e5a4f0f","value":"return ''"},{"id":"f0fd357e-2875-4b30-853d-6a647fdab48b","type":"navigate-to","url":"return '/'"}],"hasCondition":false,"preventDefault":true}]},{"id":"3e338acb-96f7-4642-8533-ee6ce1b3c3fe","name":"slabVendor","text":{"value":"return v.slabCatalog.values[v.index][3]"}},{"id":"41c288fa-868f-4844-9cd9-df3374a70844","name":"slabFinish","text":{"value":"return v.slabCatalog.values[v.index][8]"}},{"id":"479cf4ca-41c3-478e-a28f-5ba8f9777af6","name":"slabMaterial","text":{"value":"return v.slabCatalog.values[v.index][6]"}},{"id":"48080e8e-18d9-48cb-bdbc-51fe87a4c9bc","name":"slabThickness","text":{"value":"return v.slabCatalog.values[v.index][7]"}},{"id":"542083d8-f9f5-4049-9228-d841dbf0df1b","name":"slabVariantName","text":{"value":"return v.slabVariants.values[v.index][0]"}},{"id":"56c1a9ce-2752-4b39-9c66-a045fdcd1818","name":"slabVariantItem","list":{"indexVariable":"4691679c-55b9-462b-86f6-7d52e5ef2a70","value":"return v.slabVariants.values\n"}},{"id":"5941e273-affb-424c-b617-c7309ac9ae17","name":"slabSize","text":{"value":"return v.slabCatalog.values[v.index][9]"}},{"id":"5b33c280-e835-4a85-9760-171ec40beadf","name":"slabVariantsThickness","text":{"value":"return v.slabVariants.values[v.index][5];"}},{"id":"5d3e4e3a-98d6-42f6-aa2a-cfebbbd534e9","name":"listingsDateCreated","text":{"value":"const timestamp = v.userListings[v.index].created_at; // index timestamp\n\n// Create a Date object from the timestamp\nconst date = new Date(timestamp); // Automatically handles milliseconds\n\n// Define an array of month names\nconst months = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\n\n// Extract the date components\nconst month = months[date.getMonth()]; // getMonth() returns a zero-based value (0-11)\nconst day = date.getDate(); // getDate() returns the day of the month (1-31)\nconst year = date.getFullYear(); // getFullYear() returns the full year (e.g., 2024)\n\n// Format the date as \"Jan/19/2024\"\nconst formattedDate = `${month}/${day}/${year}`;\n\nreturn formattedDate"}},{"id":"6b525733-bd0c-4050-8a2a-7529107dd002","name":"slabVariantSlabPrice","text":{"value":"return v.slabVariants.values[v.index][10];"}},{"id":"6bcac3a5-0984-4732-b66e-341ef1b6dcf4","name":"cmsItem","list":{"indexVariable":"4691679c-55b9-462b-86f6-7d52e5ef2a70","value":"return v.slabPricing.values\n"}},{"id":"70e58e06-52ad-40b3-a864-0ac7e7296078","name":"slabVariant","text":{"value":"return v.slabCatalog.values[v.index][0]"}},{"id":"72ae76d7-fb01-4454-8bdb-a36607f7707f","name":"listingsBusinessCategory","text":{"value":"return v.userListings[v.index].business_category"}},{"id":"75b3acfc-635a-4f99-b89c-89239e634fb8","name":"cmsItemBrand","text":{"value":"return v.slabPricing.values[v.index][1]"}},{"id":"7bFtoVX0GRFbtLayLUOn","name":"estimateTitle","text":{"value":"return r.load_estimates.data[v.i].title"}},{"id":"7d9e019b-3f1c-4d4f-8a72-2abe0a2a0c31","name":"slabAvailability","text":{"value":"return v.slabCatalog.values[v.index][2]"},"classes":{"values":[{"id":"fa866960-9e2d-4992-b24c-215c959e50f4","class":"is-in-stock","condition":"return v.slabCatalog.values[v.index][2] === \"In Stock\""},{"id":"da0b2115-b4bd-477f-8af5-e17b2fa5b6e9","class":"is-out-of-stock","condition":"return v.slabCatalog.values[v.index][2] === \"Out of Stock\""},{"id":"d3bfe764-20ec-4763-b463-0ce4e7ac9f20","class":"is-available-soon","condition":"return v.slabCatalog.values[v.index][2] === \"Available Soon\""}]}},{"id":"8151eb02-0f05-4a1f-a0ac-6ee772ff9901","name":"cmsItemPrice","text":{"value":"return v.slabPricing.values[v.index][3]"}},{"id":"8183a0bc-fcc2-439b-a9d5-99df0d0cd3fa","name":"userListing","list":{"indexVariable":"4691679c-55b9-462b-86f6-7d52e5ef2a70","value":"return v.userListings"}},{"id":"905bdbca-b3c5-4da6-a95d-1dcd674bc719","name":"slab-list-loader","classes":{"values":[{"id":"83d376ef-1d0c-4186-8b55-3ac55e54350b","class":"hide","condition":"return r.get_slab_catalog.ok"}]}},{"id":"Ja1X3wEbz9AZ5bj6x878","name":"estimateItem","visibility":{"value":"return r.load_estimates.ok"},"list":{"indexVariable":"fbe8e34a-e417-4448-b0cd-55acc0e46386","value":"return r.load_estimates.data"}},{"id":"OLIf0M5mgov7X98daD12","name":"newProject","events":[{"id":"03daf1a0-dc21-4e6d-927b-5c56ef61b039","type":"submit","preventDefault":true,"actions":[{"id":"2817b64f-e719-4d30-8e4a-856b7b69d184","type":"perform-request","request":"EEODjiyPtBPyHbLESChk"}]}]},{"id":"USJy9MAvo5zcTNA3ESAm","name":"projectType","text":{"value":"return r.view_estimate.data[v.index].project_data"}},{"id":"a32db905-2f32-4d53-a037-46adaa611f9d","name":"slabVariantSize","text":{"value":"return v.slabVariants.values[v.index][7];"}},{"id":"a469f724-d76d-421f-a7db-c6d4bbac577b","name":"slabCostSqFt","text":{"value":"return v.slabCatalog.values[v.index][11]"}},{"id":"b2df2886-57d3-4f7a-8b71-3adbeb5dbbe3","name":"listingsEmail","text":{"value":"return v.userListings[v.index].email"}},{"id":"b3365f68-e5bb-439c-8def-adf2b7101b5b","name":"slabVariantsFinish","text":{"value":"return v.slabVariants.values[v.index][6];"}},{"id":"c1425742-1ef7-46bc-bbf7-0b3c5b8f3b43","name":"retailLaborMarkup","text":{"value":"return v.slabCatalog.values[v.index][14]"}},{"id":"c3319000-ad1f-42ba-b527-2fa6e5c1992e","name":"imageLoading","classes":{"values":[{"id":"603f1940-02bb-4608-8278-07429d90773a","class":"is-requesting","condition":"return r.get_generated_image.isRequesting === true;"}]}},{"id":"c56cf865-f9cf-4740-96ea-9977115e7d5a","name":"listingsCity","text":{"value":"return v.userListings[v.index].city"}},{"id":"c800f83d-54ed-4e0c-8062-61f71e58ff71","name":"generateImageform","events":[{"id":"4a8f97b7-9f37-43ce-8019-cde2f51343d6","type":"submit","actions":[{"id":"b5019b3e-9560-47cb-b5af-0e548743afb1","type":"perform-request","request":"Iit3RSbAL9TIQIimcB3j"}],"hasCondition":false,"preventDefault":true}]},{"id":"c8e3c15c-2f09-49ff-b1a8-f65054428b30","name":"slabVariantInstalledPrice","text":{"value":"return v.slabVariants.values[v.index][11];"}},{"id":"d6149595-5c86-40b2-9685-d2064c7db98e","name":"formAuth","events":[{"id":"e94f6025-a465-4850-8d36-bd5b2c01c34b","type":"submit","actions":[{"id":"1c147193-6200-48c6-ac08-1af7309c93c8","type":"perform-request","request":"e6691557-aec7-4ed3-8968-1fc2e2165674","hasCondition":true,"condition":"return n.path === '/account/signup' || n.path.includes('/for-pros/')"},{"id":"8c83248b-75cf-42ad-b02a-fab48d1d593f","type":"perform-request","request":"67797d21-ec3b-43e9-b0fb-bc8d04cca05c","hasCondition":true,"condition":"return n.path === '/account/login'"}],"hasCondition":false,"preventDefault":true}]},{"id":"d82db623-8329-488b-84d7-c74e16b2d356","name":"slabCost","text":{"value":"return v.slabCatalog.values[v.index][12]"}},{"id":"eaa8bc1f-f7b7-4a8a-9cfa-86e747c290d2","name":"LaborCostPerSqFt","text":{"value":"return v.slabCatalog.values[v.index][13]"}},{"id":"f83cab8a-c137-43f4-b9d6-9ee339d48b9d","name":"listingsBusinessName","text":{"value":"return v.userListings[v.index].business_name"}},{"id":"fac2004a-3ed8-4b83-8df3-b34712129331","name":"cmsItemKeyword","text":{"value":"return v.slabPricing.values[v.index][0]"}},{"id":"fc2041e1-49f2-4fe6-b57d-27e5306af861","name":"slabTotalSqFt","text":{"value":"return v.slabCatalog.values[v.index][10]"}},{"id":"l2MxN1UBqNzKhVPSiTTU","name":"projectTitle","text":{"value":"return r.view_estimate.data[v.index].title"}},{"id":"zdydZPzlVzCVHhrC3Gi2","name":"estimateLink","attributes":{"values":[{"id":"a9bf38cf-fb51-4ca5-8676-00a864166e85","key":"href","value":"return  \"/estimate/view?id=\" + r.load_estimates.data[v.i].id"}]}}],"events":[{"condition":"return n.path === '/tools/estimate-calculator' || /^\\/countertops\\//.test(n.path);\n","name":"Request get_google-sheets","trigger":"page-complete","id":"1999d8a7-d782-4342-b01c-46aa404c9aad","hasCondition":true,"folderId":"fc570028-cbac-4ae6-ad7e-d0b54210a9c7","actions":[{"id":"9517b619-d8d5-4f9e-9377-4beece1cd25c","type":"perform-request","request":"8095d536-6559-4b48-9841-cb31b91fe75c"}]},{"request":"ba6e9b05-be40-405e-9122-58380d4c32dd","name":"02. After Create Listing","id":"1e40fff9-21f2-412c-b451-0eec73361132","trigger":"after-request","folderId":"c4d6b377-ceac-4b4f-9a32-09e0bc8d9945","actions":[{"id":"f5f829fc-0773-4f55-871d-eaf1faa95cea","type":"navigate-to","condition":"return r.create_listing.ok","hasCondition":true,"url":"return '/account/pro-directory/listings'"}]},{"condition":"// return document.querySelector('[wized-data=\"getSlabs\"]') !== null;\n","name":"Request Slab Pricing","trigger":"page-complete","id":"33cea291-39ea-4739-aef1-9968d05c0852","hasCondition":true,"folderId":"13bc0502-eb1e-4d6c-a429-27a6122d2d72","actions":[{"id":"43a4d01a-ea60-4696-ad89-8cabd242882e","type":"perform-request","request":"54ba69a4-bd80-464a-a280-f57483101e43"}]},{"request":"0845cb91-4260-46bf-99fa-d1bcc5ff5087","condition":"return r.get_user.ok","name":"03. Get User Listings","id":"366dcc73-d1e3-47a5-85ad-f45647373e06","trigger":"after-request","hasCondition":true,"folderId":"c4d6b377-ceac-4b4f-9a32-09e0bc8d9945","actions":[{"id":"f7c5ba44-17ae-4734-86bb-48e7bc90ef33","type":"perform-request","request":"0ed8946b-7780-44c6-9ec0-136d26a39a0e"}]},{"request":"54ba69a4-bd80-464a-a280-f57483101e43","condition":"return r.get_slab_pricing.ok","name":"Slab Pricing: Matrix Matching","id":"42291e64-3be7-4fd9-915e-3338561c3ad9","trigger":"after-request","hasCondition":true,"folderId":"13bc0502-eb1e-4d6c-a429-27a6122d2d72","actions":[{"id":"e1dca03f-aa64-4911-b148-2f68148facde","type":"run-function","function":"return getSlabPricing();"}]},{"request":"0ed8946b-7780-44c6-9ec0-136d26a39a0e","condition":"return r.get_user_listings.ok","name":"Set User Listings Variable","id":"4f403a02-46c7-4d64-8e2e-cad57be08d06","trigger":"after-request","hasCondition":true,"folderId":"c4d6b377-ceac-4b4f-9a32-09e0bc8d9945","actions":[{"id":"93675c91-d959-47ed-9198-42ae0f57a47d","type":"set-variable","variable":"4207dbeb-e0b7-4a2e-a6d9-351d231aabf6","value":"return r.get_user_listings.data"}]},{"request":"8095d536-6559-4b48-9841-cb31b91fe75c","condition":"return r.get_slab_catalog.ok && /^\\/countertops\\//.test(n.path);","name":"Set Slab Variants Variable","trigger":"after-request","id":"5446ca53-9e5e-40eb-bbd2-3c533fb4be6a","hasCondition":true,"folderId":"42ed4538-7702-479e-b5ee-9e944555d130","actions":[{"id":"9aac6bec-c622-4707-80ed-9b130c84459a","type":"set-variable","variable":"fc32ce2b-35fe-4592-8b9c-b0f528f04603","value":"const slabName = i.slabVariantName;\nconst slabVendorName = i.slabVariantVendor;\nreturn { values: r.get_slab_catalog.data.values.filter(([itemName, vendor]) => itemName === slabName && vendor === slabVendorName) };\n"}]},{"id":"588pEwEhVhjZB5LXLgG4","name":"Estimates: Get Estimate","folderId":"Yu03fU9u0B41VK4uhaIA","trigger":"condition","condition":"return n.parameter.id","actions":[{"id":"a85eb810-f039-486b-9d4a-c6950cec1fd0","type":"perform-request","request":"fzRJLPuMvKngWBU7TIoy"}]},{"request":"8095d536-6559-4b48-9841-cb31b91fe75c","condition":"return r.get_slab_catalog.ok && n.path === '/tools/estimate-calculator';","name":"slabCatalog_setVariable","id":"6444fd2e-9dda-4154-adad-3f9019d00dc9","trigger":"after-request","hasCondition":true,"folderId":"fc570028-cbac-4ae6-ad7e-d0b54210a9c7","actions":[{"id":"8d015f28-7703-4a62-b32b-6e34297b428a","type":"set-variable","variable":"3ac8375f-2346-41b0-96a3-d0061b71b1bf","value":"\nreturn r.get_slab_catalog.data"}]},{"request":"54ba69a4-bd80-464a-a280-f57483101e43","condition":"return r.get_slab_pricing.ok;","name":"Slab Pricing: Set Variable","id":"76743827-7e06-4f9e-b84d-71d2ef1afd5c","trigger":"after-request","hasCondition":true,"folderId":"13bc0502-eb1e-4d6c-a429-27a6122d2d72","actions":[{"id":"bd7eefc7-b9ad-41a9-9806-5f3920abf2f5","type":"set-variable","variable":"88bdbb0c-7ed6-4e00-97ad-b5a8605933bf","value":"\nreturn r.get_slab_pricing.data"}]},{"id":"8hqlFeNT9bUPvL1nkyfj","name":"Estimates: Get Estimates","folderId":"Yu03fU9u0B41VK4uhaIA","trigger":"condition","condition":"return n.path === \"/estimates\"","actions":[{"id":"461ac301-e5d8-402c-8fee-a6e98b0c89fd","type":"perform-request","request":"Q7l7jcZHO9VqPVhHeym3"}]},{"request":"67797d21-ec3b-43e9-b0fb-bc8d04cca05c","name":"After login_user","id":"997d4cf2-cc5e-4a19-b613-eda9836d2adb","trigger":"after-request","folderId":"dd5a6a20-de10-4f44-aad9-5c9dccf85ad7","actions":[{"id":"73d36f1c-d68c-4226-a4a0-8c852cd6056d","type":"set-cookie","cookie":"c7c6757e-fd62-4e29-a456-8bbb1e5a4f0f","value":"return r.login_user.data.authToken"},{"id":"0ec072d3-2012-471c-a848-89369a431087","type":"navigate-to","condition":"return r.login_user.ok","hasCondition":true,"url":"return '/account/dashboard'"}]},{"request":"Iit3RSbAL9TIQIimcB3j","condition":"return r.get_generated_image.ok","name":"Room Visualizer: Load Image","id":"UB66W86d26Kuc20kTQyj","trigger":"after-request","hasCondition":true,"folderId":"ZZjc0He3LISiwajFB3rm","actions":[{"id":"c13b31a0-1939-4704-92bd-cada0694a069","type":"run-function","function":"// Select the img element with the attribute wized=\"genImage\"\nconst imgElement = document.querySelector('img[wized=\"genImage\"]');\n\n// Check if the element exists to avoid errors\nif (imgElement) {\n    // Update the src attribute with the desired value\n    imgElement.src = r.get_generated_image.data.data[0].url;\n\n    // Select the element with the attribute wized=\"imageLoading\"\n    const loadingElement = document.querySelector('[wized=\"imageLoading\"]');\n\n    // Check if the loading element exists to avoid errors\n    if (loadingElement) {\n        // Remove the class is-requesting from the loading element\n        loadingElement.classList.remove('is-requesting');\n    }\n\n    // Add the class is-loaded to the img element\n    imgElement.classList.add('is-loaded');\n}\n"}]},{"request":"8095d536-6559-4b48-9841-cb31b91fe75c","condition":"return r.get_slab_catalog.ok","name":"slabCatalog_reinitializeAttributesFilter","id":"bf03fa5a-db02-4ea7-bd52-a1198f189fca","trigger":"after-request","hasCondition":true,"folderId":"fc570028-cbac-4ae6-ad7e-d0b54210a9c7","actions":[{"id":"3cc61e34-1d95-4342-8985-232c3d53e35b","type":"run-function","function":"window.fsAttributes.cmsfilter.destroy();\nwindow.fsAttributes.cmsfilter.init();"}]},{"request":"e6691557-aec7-4ed3-8968-1fc2e2165674","name":"After create_user","id":"c4c35182-a7fa-4d40-9051-e91182aeffb2","trigger":"after-request","folderId":"dd5a6a20-de10-4f44-aad9-5c9dccf85ad7","actions":[{"id":"e0bc5b15-c384-4aa0-a3a9-d9cb5505e414","type":"set-cookie","cookie":"c7c6757e-fd62-4e29-a456-8bbb1e5a4f0f","value":"return r.create_user.data.authToken"},{"id":"295c8f9d-ac48-4170-815e-c5e289183767","type":"navigate-to","condition":"return r.create_user.ok","hasCondition":true,"url":"return '/account/dashboard'"}]},{"request":"0845cb91-4260-46bf-99fa-d1bcc5ff5087","name":"Handle Access Control","id":"cf41ba35-e53d-495b-8aee-16a62c2188f1","trigger":"after-request","folderId":"dd5a6a20-de10-4f44-aad9-5c9dccf85ad7","actions":[{"id":"f16553a0-22c3-4789-91cd-f8734e798e13","type":"navigate-to","condition":"return !r.get_user.ok","hasCondition":true,"url":"return '/account/login'"}]},{"condition":"return n.path.startsWith('/account/') && !(n.path.endsWith('/signup') || n.path.endsWith('/login'))","name":"Submit get_user","trigger":"condition","id":"dbfa6269-a8ad-4ca8-8196-6fea87b09532","folderId":"dd5a6a20-de10-4f44-aad9-5c9dccf85ad7","actions":[{"id":"e894ce57-5e0f-4016-87a8-0a60ff2a3d83","type":"perform-request","request":"0845cb91-4260-46bf-99fa-d1bcc5ff5087"}]}],"requests":[{"number":3,"headers":[{"value":"return c.token","key":"Authorization"}],"endpoint":"return '/auth/me'","method":"get","appId":"6ffa702f-4650-4d7f-8386-4c85efd60f2b","name":"get_user","id":"0845cb91-4260-46bf-99fa-d1bcc5ff5087","type":"rest","folderId":"59c29535-f363-47d8-bcab-06a6cf05c12d"},{"number":5,"endpoint":"return '/pro_listing'","method":"get","query":[{"value":"return r.get_user.data.id","key":"user_id"}],"appId":"6ffa702f-4650-4d7f-8386-4c85efd60f2b","name":"get_user_listings","id":"0ed8946b-7780-44c6-9ec0-136d26a39a0e","type":"rest","folderId":"e3b4012c-022b-42b3-9dbc-06ccec5bc164"},{"number":7,"endpoint":"return '/spreadsheets/1IhQhgJ3U2NbMr06d8Oe9cswNrCCxqamGBC9KhODb0W0/values/Data%20Countertops%20Pricing%20Export%20API!A2:F'\n","method":"get","appId":"077088e6-ee6d-495e-af28-55d853401461","query":[{"value":"return s.sheets_api_key","key":"key"},{"value":"return 'ROWS'","key":"majorDimension"},{"value":"return 'FORMATTED_VALUE'","key":"valueRenderOption"}],"name":"get_slab_pricing","id":"54ba69a4-bd80-464a-a280-f57483101e43","type":"rest","folderId":"4dfcadd2-2b5f-4c1a-8a3d-836774bcc26c"},{"number":2,"endpoint":"return '/auth/login'","method":"post","appId":"6ffa702f-4650-4d7f-8386-4c85efd60f2b","name":"login_user","id":"67797d21-ec3b-43e9-b0fb-bc8d04cca05c","body":[{"value":"return f.formAuth.email","key":"email"},{"value":"return f.formAuth.password","key":"password"}],"type":"rest","folderId":"59c29535-f363-47d8-bcab-06a6cf05c12d"},{"number":6,"endpoint":"return '/spreadsheets/1IhQhgJ3U2NbMr06d8Oe9cswNrCCxqamGBC9KhODb0W0/values/Data%20Export%20API!A2:P'\n","method":"get","appId":"077088e6-ee6d-495e-af28-55d853401461","query":[{"value":"return s.sheets_api_key","key":"key"},{"value":"return 'ROWS'","key":"majorDimension"},{"value":"return 'FORMATTED_VALUE'","key":"valueRenderOption"}],"name":"get_slab_catalog","id":"8095d536-6559-4b48-9841-cb31b91fe75c","type":"rest","folderId":"4dfcadd2-2b5f-4c1a-8a3d-836774bcc26c"},{"id":"EEODjiyPtBPyHbLESChk","number":9,"name":"create_estimate","folderId":"v1bwgXKNLoO8A0WHPn7E","appId":"DF4P7EZDq5CI6zfq03n2","type":"rest","method":"post","endpoint":"return \"/bvfyj9ekj72ao\"","credentials":"same-origin","query":[{"key":"sheet","value":"return \"project\""}],"headers":[{"key":"Accept","value":"return \"application/json\""},{"key":"Content-Type","value":"return \"application/json\""}],"body":[{"key":"type","value":"return f.newProject.type;\n"},{"key":"address","value":"return f.newProject.address"},{"key":"state","value":"return f.newProject.state"},{"key":"city","value":"return f.newProject.city"},{"key":"date","value":"return 'DATETIME'"},{"key":"return_values","value":"return \"true\""},{"key":"id","value":"return Math.random().toString(36).substr(2, 3) + \"-\" + \n       Math.random().toString(36).substr(2, 4) + \"-\" + \n       Math.random().toString(36).substr(2, 3);"},{"key":"title","value":"return f.newProject.title"},{"key":"project_data","value":"return f.newProject.data"}]},{"number":8,"headers":[{"value":"return s.openai_api_key;\n","key":"Authorization"},{"value":"return 'application/json'","key":"Content-Type"},{"value":"return 'hd'","key":"quality"},{"value":"return 'https://surprisegranite.com'","key":"Access-Control-Allow-Origin"}],"endpoint":"return '/images/generations'","method":"post","appId":"emy68zCYdUMSiEferfzu","name":"get_generated_image","id":"Iit3RSbAL9TIQIimcB3j","type":"rest","body":[{"value":"return 'dall-e-3'","key":"model"},{"value":"return f.generateImageform.imagePrompt","key":"prompt"},{"value":"return 1","key":"n"},{"value":"return \"1024x1024\"","key":"size"}],"folderId":"ZMyBi3fugVCMo7WSRO7Z"},{"id":"Q7l7jcZHO9VqPVhHeym3","number":11,"name":"load_estimates","folderId":"v1bwgXKNLoO8A0WHPn7E","appId":"DF4P7EZDq5CI6zfq03n2","type":"rest","method":"get","endpoint":"return \"/bvfyj9ekj72ao\"","credentials":"same-origin","query":[{"key":"sheet","value":"return \"project\""}]},{"number":4,"endpoint":"return '/pro_listing'","method":"post","appId":"6ffa702f-4650-4d7f-8386-4c85efd60f2b","name":"create_listing","id":"ba6e9b05-be40-405e-9122-58380d4c32dd","body":[{"value":"return f.formCreateListing.businessName;","key":"business_name"},{"value":"return f.formCreateListing.businessCategory;\n","key":"business_category"},{"value":"return f.formCreateListing.descriptionBio","key":"about_us"},{"value":"return f.formCreateListing.address;\n","key":"address"},{"value":"return f.formCreateListing.city","key":"city"},{"value":"return f.formCreateListing.state","key":"state"},{"value":"return f.formCreateListing.zipCode","key":"zip_code"},{"value":"return f.formCreateListing.phoneNumber","key":"phone_number"},{"value":"return f.formCreateListing.email","key":"email"},{"value":"return f.formCreateListing.ctaText","key":"cta_text"},{"value":"return f.formCreateListing.ctaUrl","key":"cta_url"},{"value":"return f.formCreateListing.website","key":"website"},{"value":"return r.get_user.data.id","key":"user_id"}],"type":"rest","folderId":"e3b4012c-022b-42b3-9dbc-06ccec5bc164"},{"number":1,"endpoint":"return '/auth/signup'","method":"post","appId":"6ffa702f-4650-4d7f-8386-4c85efd60f2b","name":"create_user","id":"e6691557-aec7-4ed3-8968-1fc2e2165674","body":[{"value":"return f.formAuth.firstName;\n","key":"first_name"},{"value":"return f.formAuth.lastName;","key":"last_name"},{"value":"return f.formAuth.email;","key":"email"},{"value":"return f.formAuth.password;","key":"password"},{"value":"if (n.path == \"/for-pros/fabricators-installers\") {\n  return 3;\n} else {\n  return 6;\n}\n","key":"account_type"}],"type":"rest","folderId":"59c29535-f363-47d8-bcab-06a6cf05c12d"},{"id":"fzRJLPuMvKngWBU7TIoy","number":10,"name":"view_estimate","folderId":"v1bwgXKNLoO8A0WHPn7E","appId":"DF4P7EZDq5CI6zfq03n2","type":"rest","method":"get","endpoint":"return \"/bvfyj9ekj72ao/search\"","credentials":"same-origin","query":[{"key":"id","value":"return n.parameter.id"},{"key":"sheet","value":"return \"project\""}]}]});