<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <title>Countertop Square Footage Calculator | Surprise Granite</title>
    <link rel="canonical" href="https://surprisegranite.com/tools/countertop-calculator/"/>
    <meta content="Calculate your countertop square footage instantly. Add multiple sections for L-shaped or U-shaped layouts. Get accurate measurements for your kitchen or bathroom project." name="description"/>
    <meta content="Countertop Square Footage Calculator | Surprise Granite" property="og:title"/>
    <meta content="Calculate your countertop square footage instantly. Free tool for kitchen and bathroom countertop projects." property="og:description"/>
    <meta content="Countertop Square Footage Calculator | Surprise Granite" property="twitter:title"/>
    <meta content="Calculate your countertop square footage instantly. Free tool for kitchen and bathroom countertop projects." property="twitter:description"/>
    <meta property="og:type" content="website"/>
    <meta content="summary_large_image" name="twitter:card"/>
    <meta content="width=device-width, initial-scale=1" name="viewport"/>
    <link href="https://cdn.prod.website-files.com/6456ce4476abb25581fbad0c/css/surprisegranite.webflow.shared.06fa25eb8.min.css" rel="stylesheet" type="text/css"/>
    <link href="https://fonts.googleapis.com" rel="preconnect"/>
    <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin="anonymous"/>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet"/>
    <link href="https://cdn.prod.website-files.com/6456ce4476abb25581fbad0c/6456ce4476abb269c6fbb176_Surprise-Granite-favicon-32x32px.png" rel="shortcut icon" type="image/x-icon"/>
    <link href="https://cdn.prod.website-files.com/6456ce4476abb25581fbad0c/6456ce4476abb23120fbb175_Surprise-Granite-webclip-icon-256x256px.png" rel="apple-touch-icon"/>
    <link rel="stylesheet" href="/css/mobile-optimizations.css">
<!-- Unified Navigation -->
<link rel="stylesheet" href="/css/unified-nav.css?v=20260129">
<script defer src="/js/unified-nav.js?v=20260201"></script>


    <style>
        :root {
            --gold-primary: #f9cb00;
            --gold-dark: #cca600;
            --dark-primary: #1a1a2e;
            --dark-deep: #0f0f18;
            --dark-surface: #16161f;
            --dark-elevated: #1e1e2d;
            --text-primary: #ffffff;
            --text-secondary: rgba(255, 255, 255, 0.75);
            --text-muted: rgba(255, 255, 255, 0.5);
            --border-subtle: rgba(255, 255, 255, 0.1);
        }

        * {
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--dark-deep);
            margin: 0;
            padding: 0;
            min-height: 100vh;
            -moz-osx-font-smoothing: grayscale;
            -webkit-font-smoothing: antialiased;
            color: var(--text-primary);
        }

        /* App Container */
        .app-container {
            max-width: 100%;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* Sticky Header */
        .header {
            background: var(--dark-surface);
            border-bottom: 1px solid var(--border-subtle);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .header-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 12px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo-link {
            display: flex;
            align-items: center;
            gap: 12px;
            text-decoration: none;
        }

        .logo-icon {
            width: 32px;
            height: 32px;
            flex-shrink: 0;
        }

        .logo-text {
            font-size: 15px;
            font-weight: 600;
            color: #ffffff;
            white-space: nowrap;
        }

        .header-nav {
            display: flex;
            gap: 20px;
            align-items: center;
        }

        .header-nav a {
            color: var(--text-secondary);
            text-decoration: none;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.2s;
        }

        .header-nav a:hover { color: var(--gold-primary); }

        .btn-estimate {
            background: var(--gold-primary) !important;
            color: var(--dark-primary) !important;
            padding: 8px 16px !important;
            border-radius: 8px;
            font-weight: 600 !important;
            font-size: 13px;
        }

        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            color: var(--text-primary);
            cursor: pointer;
            padding: 8px;
        }

        @media (max-width: 768px) {
            .header-nav { display: none; }
            .mobile-menu-btn { display: block; }
            .header-content { padding: 10px 16px; }
            .logo-text { font-size: 14px; }
            .logo-icon { width: 28px; height: 28px; }
            .logo-link { gap: 10px; }
        }

        /* Mobile Nav Dropdown */
        .mobile-nav {
            display: none;
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: var(--dark-surface);
            padding: 16px 20px;
            flex-direction: column;
            gap: 8px;
            z-index: 999;
            border-bottom: 1px solid var(--border-subtle);
        }

        .mobile-nav.open {
            display: flex;
        }

        .mobile-nav a {
            color: var(--text-secondary);
            text-decoration: none;
            font-size: 15px;
            padding: 12px 0;
            border-bottom: 1px solid var(--border-subtle);
        }

        .mobile-nav a:last-child {
            border-bottom: none;
        }

        .mobile-nav a:hover {
            color: var(--gold-primary);
        }

        .mobile-nav .btn-estimate {
            background: var(--gold-primary);
            color: var(--dark-primary) !important;
            padding: 12px 16px;
            border-radius: 8px;
            text-align: center;
            font-weight: 600;
            margin-top: 8px;
        }

        /* Main Content Area */
        .page-content {
            flex: 1;
            max-width: 800px;
            width: 100%;
            margin: 0 auto;
            padding: 0;
        }

        /* Breadcrumb - hidden on mobile */
        .breadcrumb {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 16px 20px;
            font-size: 13px;
        }

        @media (max-width: 600px) {
            .breadcrumb { display: none; }
        }

        .breadcrumb a {
            color: var(--text-muted);
            text-decoration: none;
            transition: color 0.2s;
        }

        .breadcrumb a:hover {
            color: var(--gold-primary);
        }

        .breadcrumb span {
            color: var(--text-muted);
        }

        .breadcrumb .current {
            color: var(--text-secondary);
            font-weight: 500;
        }

        /* Hero Section - Compact */
        .calc-hero {
            text-align: center;
            padding: 32px 20px;
            background: linear-gradient(135deg, var(--dark-surface) 0%, var(--dark-elevated) 100%);
            border-bottom: 1px solid var(--border-subtle);
        }

        .calc-hero h1 {
            color: var(--text-primary);
            font-size: 1.75rem;
            font-weight: 700;
            margin: 0 0 8px 0;
        }

        .calc-hero h1 span {
            color: var(--gold-primary);
        }

        .calc-hero p {
            color: var(--text-muted);
            font-size: 0.95rem;
            margin: 0 auto;
            max-width: 400px;
        }

        @media (max-width: 600px) {
            .calc-hero {
                padding: 24px 16px;
            }
            .calc-hero h1 {
                font-size: 1.4rem;
            }
            .calc-hero p {
                font-size: 0.85rem;
            }
        }

        /* Calculator Card - Full Width App Style */
        .calculator-card {
            background: var(--dark-surface);
            overflow: hidden;
        }

        .calc-section {
            padding: 24px 20px;
            border-bottom: 1px solid var(--border-subtle);
        }

        .calc-section-title {
            font-size: 1rem;
            font-weight: 600;
            color: var(--text-primary);
            margin: 0 0 20px 0;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .calc-section-title svg {
            width: 20px;
            height: 20px;
            color: var(--gold-primary);
        }

        /* Countertop Sections */
        .countertop-sections {
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin-bottom: 20px;
        }

        .countertop-section {
            background: var(--dark-elevated);
            border: 1px solid var(--border-subtle);
            border-radius: 12px;
            padding: 16px;
            transition: all 0.2s;
        }

        .countertop-section:hover,
        .countertop-section:focus-within {
            border-color: var(--gold-primary);
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }

        .section-label {
            font-weight: 600;
            color: var(--text-primary);
            font-size: 0.9rem;
        }

        .remove-btn {
            background: none;
            border: none;
            color: #ff6b6b;
            cursor: pointer;
            padding: 6px;
            border-radius: 6px;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .remove-btn:hover {
            background: rgba(255, 107, 107, 0.15);
        }

        .remove-btn svg {
            width: 18px;
            height: 18px;
        }

        .input-row {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr 1fr;
            gap: 12px;
            align-items: end;
        }

        .backsplash-select {
            width: 100%;
            padding: 12px;
            border: 1px solid var(--border-subtle);
            border-radius: 8px;
            font-size: 0.9rem;
            font-weight: 500;
            background: var(--dark-surface);
            color: var(--text-primary);
            cursor: pointer;
            transition: all 0.2s;
        }

        .backsplash-select:focus {
            outline: none;
            border-color: var(--gold-primary);
        }

        .section-results {
            display: flex;
            gap: 8px;
            margin-top: 12px;
            flex-wrap: wrap;
        }

        .section-sqft {
            background: var(--dark-surface);
            padding: 8px 12px;
            border-radius: 8px;
            font-weight: 600;
            color: var(--text-secondary);
            text-align: center;
            border: 1px solid var(--border-subtle);
            font-size: 0.85rem;
        }

        .section-sqft span {
            color: var(--gold-primary);
        }

        .backsplash-sqft {
            background: rgba(77, 166, 255, 0.1);
            border-color: rgba(77, 166, 255, 0.3);
        }

        /* Edge Selection */
        .edge-selection {
            background: var(--dark-elevated);
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 20px;
            border: 1px solid var(--border-subtle);
        }

        .edge-label {
            font-size: 0.85rem;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 12px;
            display: block;
        }

        .edge-options {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
        }

        @media (max-width: 600px) {
            .edge-options {
                grid-template-columns: 1fr;
            }
        }

        .edge-option {
            cursor: pointer;
        }

        .edge-option input {
            display: none;
        }

        .edge-card {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 14px 10px;
            background: var(--dark-surface);
            border: 1px solid var(--border-subtle);
            border-radius: 10px;
            transition: all 0.2s;
            text-align: center;
        }

        .edge-option input:checked + .edge-card {
            border-color: var(--gold-primary);
            background: rgba(249, 203, 0, 0.1);
        }

        .edge-card:hover {
            border-color: var(--text-muted);
        }

        .edge-name {
            font-weight: 600;
            color: var(--text-primary);
            font-size: 0.9rem;
            margin-bottom: 4px;
        }

        .edge-desc {
            font-size: 0.75rem;
            color: var(--text-muted);
            margin-bottom: 8px;
        }

        .edge-price {
            font-size: 0.8rem;
            font-weight: 600;
            color: var(--gold-primary);
            background: var(--dark-deep);
            padding: 4px 10px;
            border-radius: 20px;
        }

        .edge-note {
            font-size: 0.75rem;
            color: var(--text-muted);
            margin: 12px 0 0 0;
            font-style: italic;
        }

        /* Finished Edges Selector */
        .finished-edges-select {
            width: 100%;
            padding: 12px;
            border: 1px solid var(--border-subtle);
            border-radius: 8px;
            font-size: 0.9rem;
            font-weight: 500;
            background: var(--dark-surface);
            color: var(--text-primary);
            cursor: pointer;
            transition: all 0.2s;
        }

        .finished-edges-select:focus {
            outline: none;
            border-color: var(--gold-primary);
        }

        .edge-linear-ft {
            background: rgba(249, 203, 0, 0.1);
            border-color: rgba(249, 203, 0, 0.3);
        }

        /* Waterfall Section Styles */
        .waterfall-section {
            margin-top: 16px;
            padding-top: 16px;
            border-top: 1px solid var(--border-subtle);
        }

        .waterfall-toggle {
            margin-bottom: 12px;
        }

        .waterfall-checkbox {
            display: flex;
            align-items: center;
            gap: 10px;
            cursor: pointer;
        }

        .waterfall-checkbox input[type="checkbox"] {
            width: 20px;
            height: 20px;
            accent-color: var(--gold-primary);
            cursor: pointer;
        }

        .waterfall-label {
            font-size: 0.95rem;
            font-weight: 600;
            color: var(--text-primary);
        }

        .waterfall-info {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background: var(--border-subtle);
            color: var(--text-muted);
            font-size: 11px;
            font-weight: 700;
            cursor: help;
        }

        .waterfall-options {
            background: rgba(249, 203, 0, 0.05);
            border: 1px solid rgba(249, 203, 0, 0.2);
            border-radius: 12px;
            padding: 16px;
            margin-top: 12px;
        }

        .waterfall-sides {
            display: flex;
            gap: 20px;
            margin-bottom: 16px;
        }

        .waterfall-side-option {
            display: flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
        }

        .waterfall-side-option input[type="checkbox"] {
            width: 18px;
            height: 18px;
            accent-color: var(--gold-primary);
            cursor: pointer;
        }

        .waterfall-side-option span {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        .waterfall-height-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .waterfall-height-group label {
            font-size: 0.8rem;
            font-weight: 500;
            color: var(--text-muted);
        }

        .waterfall-height {
            padding: 10px 12px;
            border: 1px solid var(--border-subtle);
            border-radius: 8px;
            font-size: 0.9rem;
            background: var(--dark-surface);
            color: var(--text-primary);
            cursor: pointer;
        }

        .waterfall-custom-height {
            padding: 10px 12px;
            border: 1px solid var(--border-subtle);
            border-radius: 8px;
            font-size: 0.9rem;
            background: var(--dark-surface);
            color: var(--text-primary);
            margin-top: 8px;
        }

        .waterfall-sqft {
            background: rgba(99, 102, 241, 0.1);
            border-color: rgba(99, 102, 241, 0.3);
        }

        @media (max-width: 600px) {
            .waterfall-sides {
                flex-direction: column;
                gap: 12px;
            }
        }

        .input-group {
            display: flex;
            flex-direction: column;
            gap: 6px;
        }

        .input-group label {
            font-size: 0.8rem;
            font-weight: 500;
            color: var(--text-muted);
        }

        .measurement-inputs {
            display: flex;
            gap: 6px;
            align-items: center;
        }

        .input-wrapper {
            position: relative;
            display: flex;
            align-items: center;
            flex: 1;
        }

        .input-wrapper input {
            width: 100%;
            min-width: 80px;
            padding: 12px;
            border: 1px solid var(--border-subtle);
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 500;
            transition: all 0.2s;
            background: var(--dark-surface);
            color: var(--text-primary);
        }

        .input-wrapper input:focus {
            outline: none;
            border-color: var(--gold-primary);
        }

        .fraction-select {
            padding: 12px 8px;
            border: 1px solid var(--border-subtle);
            border-radius: 8px;
            font-size: 0.95rem;
            font-weight: 500;
            background: var(--dark-surface);
            color: var(--text-primary);
            cursor: pointer;
            min-width: 60px;
            transition: all 0.2s;
        }

        .fraction-select:focus {
            outline: none;
            border-color: var(--gold-primary);
        }

        .input-unit-label {
            color: var(--text-muted);
            font-size: 0.8rem;
            font-weight: 500;
            white-space: nowrap;
        }

        @media (max-width: 700px) {
            .calc-section {
                padding: 20px 16px;
            }
            .input-row {
                grid-template-columns: 1fr 1fr;
            }
            .section-results {
                justify-content: center;
            }
        }

        /* Add Section Button */
        .add-section-btn {
            width: 100%;
            padding: 14px;
            background: transparent;
            border: 2px dashed var(--gold-primary);
            border-radius: 10px;
            color: var(--gold-primary);
            font-weight: 600;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .add-section-btn:hover {
            background: rgba(249, 203, 0, 0.1);
            border-style: solid;
        }

        .add-section-btn svg {
            width: 18px;
            height: 18px;
            color: var(--gold-primary);
        }

        /* Results Panel - Sticky on mobile */
        .results-panel {
            background: var(--dark-elevated);
            padding: 24px 20px;
            border-top: 1px solid var(--border-subtle);
        }

        .results-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
            margin-bottom: 20px;
        }

        @media (max-width: 600px) {
            .results-grid {
                grid-template-columns: 1fr 1fr;
            }
            .results-panel {
                padding: 20px 16px;
            }
        }

        .result-card {
            background: var(--dark-surface);
            border: 1px solid var(--border-subtle);
            border-radius: 10px;
            padding: 16px;
            text-align: center;
        }

        .result-card.highlight {
            background: linear-gradient(135deg, var(--gold-primary) 0%, var(--gold-dark) 100%);
            border: none;
            grid-column: span 1;
        }

        @media (max-width: 600px) {
            .result-card.highlight {
                grid-column: span 2;
            }
        }

        .result-label {
            font-size: 0.7rem;
            color: var(--text-muted);
            margin-bottom: 4px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .result-card.highlight .result-label {
            color: rgba(26, 26, 46, 0.7);
        }

        .result-value {
            font-size: 1.4rem;
            font-weight: 700;
            color: var(--text-primary);
        }

        .result-card.highlight .result-value {
            color: var(--dark-primary);
        }

        .result-value small {
            font-size: 0.75rem;
            font-weight: 400;
            opacity: 0.7;
        }

        /* Estimate Section */
        .estimate-section {
            border-top: 1px solid var(--border-subtle);
            padding-top: 20px;
        }

        .estimate-title {
            font-size: 0.85rem;
            color: var(--text-muted);
            margin-bottom: 14px;
            text-align: center;
        }

        .estimate-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
        }

        @media (max-width: 600px) {
            .estimate-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        .tier-grid {
            grid-template-columns: repeat(3, 1fr) !important;
        }

        @media (max-width: 600px) {
            .tier-grid {
                grid-template-columns: 1fr !important;
            }
        }

        .estimate-item {
            background: rgba(255,255,255,0.05);
            border-radius: 10px;
            padding: 16px;
            text-align: center;
            border: 2px solid transparent;
            transition: all 0.2s;
        }

        .estimate-item.tier-budget {
            border-color: rgba(76, 175, 80, 0.3);
        }

        .estimate-item.tier-popular {
            border-color: rgba(249, 203, 0, 0.5);
            background: rgba(249, 203, 0, 0.1);
        }

        .estimate-item.tier-premium {
            border-color: rgba(156, 39, 176, 0.3);
        }

        .estimate-material {
            font-size: 0.9rem;
            color: #fff;
            margin-bottom: 4px;
            font-weight: 600;
        }

        .estimate-desc {
            font-size: 0.75rem;
            color: rgba(255,255,255,0.5);
            margin-bottom: 10px;
        }

        .estimate-price {
            font-size: 1.2rem;
            font-weight: 700;
            color: #f9cb00;
            margin-bottom: 4px;
        }

        .estimate-rate {
            font-size: 0.7rem;
            color: rgba(255,255,255,0.4);
        }

        .estimate-disclaimer {
            margin-top: 16px;
            font-size: 0.75rem;
            color: rgba(255,255,255,0.4);
            text-align: center;
            font-style: italic;
        }

        /* CTA Section */
        .cta-section {
            text-align: center;
            padding: 32px 20px;
            background: linear-gradient(135deg, var(--dark-surface) 0%, var(--dark-elevated) 100%);
            border-top: 1px solid var(--border-subtle);
        }

        .cta-text {
            font-size: 1.1rem;
            color: var(--text-secondary);
            margin: 0 0 20px 0;
        }

        .cta-btn {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            background: linear-gradient(135deg, var(--gold-primary) 0%, var(--gold-dark) 100%);
            color: var(--dark-primary);
            padding: 16px 32px;
            border-radius: 10px;
            text-decoration: none;
            font-weight: 700;
            font-size: 1rem;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 4px 15px rgba(249, 203, 0, 0.25);
        }

        .cta-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(249, 203, 0, 0.35);
        }

        .cta-btn:active {
            transform: translateY(-1px);
        }

        .cta-btn svg {
            width: 20px;
            height: 20px;
        }

        .cta-buttons {
            display: flex;
            gap: 12px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .generate-quote-btn {
            border: none;
            cursor: pointer;
            font-family: inherit;
        }

        .cta-btn-secondary {
            background: var(--dark-elevated);
            color: var(--gold-primary);
            border: 2px solid var(--gold-primary);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }

        .cta-btn-secondary:hover {
            background: rgba(249, 203, 0, 0.1);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
        }

        /* Quote Modal */
        .quote-modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.6);
            z-index: 10000;
            align-items: center;
            justify-content: center;
            padding: 20px;
            overflow-y: auto;
        }

        .quote-modal-overlay.active {
            display: flex;
        }

        .quote-modal {
            background: #fff;
            border-radius: 16px;
            max-width: 600px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            animation: modalSlideIn 0.3s ease;
        }

        @keyframes modalSlideIn {
            from { opacity: 0; transform: translateY(-20px) scale(0.95); }
            to { opacity: 1; transform: translateY(0) scale(1); }
        }

        .quote-modal-header {
            background: linear-gradient(135deg, #1a1a2e 0%, #2d2d4a 100%);
            padding: 24px;
            color: #fff;
            position: relative;
        }

        .quote-modal-header h2 {
            margin: 0 0 4px 0;
            font-size: 1.5rem;
        }

        .quote-modal-header p {
            margin: 0;
            opacity: 0.7;
            font-size: 0.9rem;
        }

        .quote-modal-close {
            position: absolute;
            top: 16px;
            right: 16px;
            background: rgba(255,255,255,0.1);
            border: none;
            color: #fff;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.2s;
        }

        .quote-modal-close:hover {
            background: rgba(255,255,255,0.2);
        }

        .quote-modal-body {
            padding: 24px;
        }

        .quote-summary-section {
            margin-bottom: 20px;
        }

        .quote-summary-section h3 {
            font-size: 0.85rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: #888;
            margin: 0 0 12px 0;
            padding-bottom: 8px;
            border-bottom: 1px solid #eee;
        }

        .quote-line-items {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .quote-line-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 12px;
            background: #f8f9fa;
            border-radius: 8px;
        }

        .quote-line-item .label {
            color: #555;
            font-size: 0.95rem;
        }

        .quote-line-item .value {
            font-weight: 600;
            color: #1a1a2e;
        }

        .quote-section-detail {
            background: #fff;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            padding: 12px;
            margin-bottom: 8px;
        }

        .quote-section-detail .section-name {
            font-weight: 600;
            color: #1a1a2e;
            margin-bottom: 6px;
        }

        .quote-section-detail .section-dims {
            font-size: 0.9rem;
            color: #666;
        }

        .quote-price-tier {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 14px 16px;
            background: #f8f9fa;
            border-radius: 10px;
            margin-bottom: 8px;
            border: 2px solid transparent;
        }

        .quote-price-tier.popular {
            background: #fffbeb;
            border-color: #f9cb00;
        }

        .quote-price-tier .tier-name {
            font-weight: 600;
            color: #1a1a2e;
        }

        .quote-price-tier .tier-desc {
            font-size: 0.8rem;
            color: #888;
        }

        .quote-price-tier .tier-price {
            font-size: 1.2rem;
            font-weight: 700;
            color: #f9cb00;
        }

        .quote-modal-actions {
            padding: 20px 24px;
            background: #f8f9fa;
            border-top: 1px solid #e9ecef;
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
        }

        .quote-action-btn {
            flex: 1;
            min-width: 140px;
            padding: 14px 20px;
            border-radius: 8px;
            font-weight: 600;
            font-size: 0.95rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            transition: all 0.2s;
            border: none;
            font-family: inherit;
        }

        .quote-action-btn svg {
            width: 18px;
            height: 18px;
        }

        .quote-action-btn.primary {
            background: #f9cb00;
            color: #1a1a2e;
        }

        .quote-action-btn.primary:hover {
            background: #e6b800;
        }

        .quote-action-btn.secondary {
            background: #1a1a2e;
            color: #fff;
        }

        .quote-action-btn.secondary:hover {
            background: #2d2d4a;
        }

        .quote-action-btn.outline {
            background: #fff;
            color: #1a1a2e;
            border: 2px solid #e0e0e0;
        }

        .quote-action-btn.outline:hover {
            border-color: #1a1a2e;
        }

        .quote-email-form {
            display: none;
            padding: 20px 24px;
            background: #f0f7ff;
            border-top: 1px solid #cce5ff;
        }

        .quote-email-form.active {
            display: block;
        }

        .quote-email-form h4 {
            margin: 0 0 12px 0;
            font-size: 1rem;
            color: #1a1a2e;
        }

        .quote-email-input-row {
            display: flex;
            gap: 10px;
        }

        .quote-email-input {
            flex: 1;
            padding: 12px 16px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1rem;
            font-family: inherit;
        }

        .quote-email-input:focus {
            outline: none;
            border-color: #f9cb00;
        }

        .quote-email-submit {
            padding: 12px 20px;
            background: #1a1a2e;
            color: #fff;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.2s;
        }

        .quote-email-submit:hover {
            background: #2d2d4a;
        }

        .quote-date {
            font-size: 0.85rem;
            color: #888;
            text-align: center;
            margin-top: 16px;
        }

        .quote-disclaimer {
            font-size: 0.8rem;
            color: #888;
            text-align: center;
            margin-top: 12px;
            font-style: italic;
        }

        @media print {
            body * { visibility: hidden; }
            .quote-modal, .quote-modal * { visibility: visible; }
            .quote-modal { position: absolute; left: 0; top: 0; max-height: none; box-shadow: none; }
            .quote-modal-actions, .quote-modal-close, .quote-email-form { display: none !important; }
        }

        /* Tips Section */
        .tips-section {
            margin: 0;
            background: var(--dark-surface);
            padding: 28px 20px;
            border-top: 1px solid var(--border-subtle);
        }

        .tips-title {
            font-size: 1rem;
            font-weight: 600;
            color: var(--text-primary);
            margin: 0 0 20px 0;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .tips-title svg {
            width: 22px;
            height: 22px;
            color: var(--gold-primary);
        }

        .tips-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
        }

        @media (max-width: 600px) {
            .tips-grid {
                grid-template-columns: 1fr;
            }
            .tips-section {
                padding: 24px 16px;
            }
        }

        .tip-item {
            display: flex;
            gap: 14px;
            align-items: flex-start;
            padding: 16px;
            background: var(--dark-elevated);
            border-radius: 10px;
            border: 1px solid var(--border-subtle);
            transition: all 0.2s;
        }

        .tip-item:hover {
            border-color: var(--gold-primary);
        }

        .tip-icon {
            width: 28px;
            height: 28px;
            background: #f9cb00;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            color: #1a1a2e;
            font-size: 0.85rem;
            font-weight: 700;
        }

        .tip-content h4 {
            font-size: 0.9rem;
            font-weight: 600;
            color: var(--text-primary);
            margin: 0 0 4px 0;
        }

        .tip-content p {
            font-size: 0.85rem;
            color: var(--text-muted);
            margin: 0;
            line-height: 1.5;
        }

        /* Other Tools Section */
        .other-tools {
            margin: 0;
            padding: 28px 20px;
            background: var(--dark-elevated);
            border-top: 1px solid var(--border-subtle);
        }

        .other-tools h3 {
            font-size: 1rem;
            font-weight: 600;
            color: var(--text-primary);
            margin: 0 0 20px 0;
        }

        .tools-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
        }

        @media (max-width: 500px) {
            .tools-grid {
                grid-template-columns: 1fr;
            }
            .other-tools {
                padding: 24px 16px;
            }
        }

        .tool-link {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 14px 16px;
            background: var(--dark-surface);
            border: 1px solid var(--border-subtle);
            border-radius: 10px;
            text-decoration: none;
            color: var(--text-primary);
            font-weight: 500;
            transition: all 0.2s;
        }

        .tool-link:hover {
            border-color: var(--gold-primary);
            transform: translateX(4px);
        }

        .tool-link svg {
            width: 20px;
            height: 20px;
            color: var(--gold-primary);
        }

        /* Footer */
        .site-footer {
            background: var(--dark-deep);
            border-top: 1px solid var(--border-subtle);
            padding: 24px 20px;
            text-align: center;
        }

        .footer-content {
            max-width: 800px;
            margin: 0 auto;
        }

        .footer-links {
            display: flex;
            justify-content: center;
            gap: 24px;
            margin-bottom: 16px;
            flex-wrap: wrap;
        }

        .footer-links a {
            color: var(--text-muted);
            text-decoration: none;
            font-size: 0.85rem;
            transition: color 0.2s;
        }

        .footer-links a:hover {
            color: var(--gold-primary);
        }

        .footer-copyright {
            color: var(--text-muted);
            font-size: 0.8rem;
        }

        .footer-copyright a {
            color: var(--gold-primary);
            text-decoration: none;
        }

        /* Animations */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }

        .section-card {
            animation: fadeInUp 0.3s ease;
        }

        .result-value {
            transition: all 0.3s ease;
        }

        .result-card.highlight {
            animation: pulse 2s ease-in-out infinite;
        }

        /* Focus visible for accessibility */
        *:focus-visible {
            outline: 2px solid var(--gold-primary);
            outline-offset: 2px;
        }

        /* Smooth scrolling */
        html {
            scroll-behavior: smooth;
        }
    </style>
</head>
<body>
    <!-- Secondary Header -->
    <header class="header">
        <div class="header-content">
            <a href="/" class="logo-link">
                <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 121.073 124.824" class="logo-icon">
                    <path d="M60.534,9.987l51.884,29.956v76.23H8.65V39.943L60.534,9.987m0-9.987L0,34.95v89.874H121.073V34.95L60.534,0Z" fill="#f9cb00"/>
                    <path d="M122.416,65.093,69.456,34.06,61.3,39.547l52.466,30.539v69.9h8.65Z" transform="translate(-27.288 -15.162)" fill="#f9cb00"/>
                    <path d="M75.038,151.845h-8.65V96.92L13.15,66.182,21.878,60.7l53.16,31.227Z" transform="translate(-5.854 -27.021)" fill="#f9cb00"/>
                    <path d="M48.817,127.171,12.53,106.22v9.987l27.642,15.957v39.943h8.645Z" transform="translate(-5.578 -47.284)" fill="#f9cb00"/>
                </svg>
                <span class="logo-text">Surprise Granite</span>
            </a>
            <nav class="header-nav">
                <a href="/marketplace/slabs/">Countertops</a>
                <a href="/materials/flooring">Flooring</a>
                <a href="/shop">Shop</a>
                <a href="/company/project-gallery">Gallery</a>
                <a href="/contact-us">Contact</a>
                <a href="/get-a-free-estimate" class="btn-estimate">Free Estimate</a>
            </nav>
            <button class="mobile-menu-btn" onclick="toggleMobileMenu()">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 12h18M3 6h18M3 18h18"/></svg>
            </button>
        </div>
    </header>
    <div class="mobile-nav" id="mobileNav">
        <a href="/marketplace/slabs/">Countertops</a>
        <a href="/materials/flooring">Flooring</a>
        <a href="/shop">Shop</a>
        <a href="/company/project-gallery">Gallery</a>
        <a href="/contact-us">Contact</a>
        <a href="/get-a-free-estimate" class="btn-estimate">Free Estimate</a>
    </div>

    <!-- Page Content -->
    <div class="page-content">
        <!-- Breadcrumb -->
        <nav class="breadcrumb">
            <a href="/">Home</a>
            <span>/</span>
            <a href="/tools/virtual-kitchen-design-tool/">Tools</a>
            <span>/</span>
            <span class="current">Countertop Calculator</span>
        </nav>

        <!-- Hero -->
        <div class="calc-hero">
            <h1>Countertop <span>Calculator</span></h1>
            <p>Calculate your square footage instantly for an accurate project estimate</p>
        </div>

        <!-- Calculator Card -->
        <div class="calculator-card">
            <div class="calc-section">
                <h2 class="calc-section-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z"/>
                    </svg>
                    Countertop Measurements
                </h2>

                <!-- Edge Profile Selection -->
                <div class="edge-selection">
                    <label class="edge-label">Edge Profile</label>
                    <div class="edge-options">
                        <label class="edge-option">
                            <input type="radio" name="edge-tier" value="0" checked onchange="calculateAll()">
                            <span class="edge-card">
                                <span class="edge-name">Standard</span>
                                <span class="edge-desc">Eased, Beveled</span>
                                <span class="edge-price">Included</span>
                            </span>
                        </label>
                        <label class="edge-option">
                            <input type="radio" name="edge-tier" value="5" onchange="calculateAll()">
                            <span class="edge-card">
                                <span class="edge-name">Designer</span>
                                <span class="edge-desc">Bullnose, Ogee</span>
                                <span class="edge-price">+$5/linear ft</span>
                            </span>
                        </label>
                        <label class="edge-option">
                            <input type="radio" name="edge-tier" value="10" onchange="calculateAll()">
                            <span class="edge-card">
                                <span class="edge-name">Premium</span>
                                <span class="edge-desc">Mitered, Waterfall</span>
                                <span class="edge-price">+$10/linear ft</span>
                            </span>
                        </label>
                    </div>
                    <p class="edge-note">* Quartzite, Porcelain & Dekton require premium edge fabrication</p>
                </div>

                <div class="countertop-sections" id="sections">
                    <div class="countertop-section" data-index="0">
                        <div class="section-header">
                            <span class="section-label">Section 1</span>
                        </div>
                        <div class="input-row">
                            <div class="input-group">
                                <label>Length</label>
                                <div class="measurement-inputs">
                                    <div class="input-wrapper">
                                        <input type="number" class="length-whole" placeholder="0" min="0" step="1" oninput="calculateAll()">
                                    </div>
                                    <select class="fraction-select length-fraction" onchange="calculateAll()">
                                        <option value="0">0</option>
                                        <option value="0.0625">1/16</option>
                                        <option value="0.125">1/8</option>
                                        <option value="0.1875">3/16</option>
                                        <option value="0.25">1/4</option>
                                        <option value="0.3125">5/16</option>
                                        <option value="0.375">3/8</option>
                                        <option value="0.4375">7/16</option>
                                        <option value="0.5">1/2</option>
                                        <option value="0.5625">9/16</option>
                                        <option value="0.625">5/8</option>
                                        <option value="0.6875">11/16</option>
                                        <option value="0.75">3/4</option>
                                        <option value="0.8125">13/16</option>
                                        <option value="0.875">7/8</option>
                                        <option value="0.9375">15/16</option>
                                    </select>
                                    <span class="input-unit-label">in</span>
                                </div>
                            </div>
                            <div class="input-group">
                                <label>Depth</label>
                                <div class="measurement-inputs">
                                    <div class="input-wrapper">
                                        <input type="number" class="depth-whole" placeholder="25" value="25" min="0" step="1" oninput="calculateAll()">
                                    </div>
                                    <select class="fraction-select depth-fraction" onchange="calculateAll()">
                                        <option value="0">0</option>
                                        <option value="0.0625">1/16</option>
                                        <option value="0.125">1/8</option>
                                        <option value="0.1875">3/16</option>
                                        <option value="0.25">1/4</option>
                                        <option value="0.3125">5/16</option>
                                        <option value="0.375">3/8</option>
                                        <option value="0.4375">7/16</option>
                                        <option value="0.5" selected>1/2</option>
                                        <option value="0.5625">9/16</option>
                                        <option value="0.625">5/8</option>
                                        <option value="0.6875">11/16</option>
                                        <option value="0.75">3/4</option>
                                        <option value="0.8125">13/16</option>
                                        <option value="0.875">7/8</option>
                                        <option value="0.9375">15/16</option>
                                    </select>
                                    <span class="input-unit-label">in</span>
                                </div>
                            </div>
                            <div class="input-group">
                                <label>Backsplash</label>
                                <select class="backsplash-select" onchange="calculateAll()">
                                    <option value="0">None</option>
                                    <option value="4">4" Standard</option>
                                    <option value="6">6" Tall</option>
                                    <option value="18">18" Full Height</option>
                                </select>
                            </div>
                            <div class="input-group">
                                <label>Finished Edges</label>
                                <select class="finished-edges-select" onchange="calculateAll()">
                                    <option value="front">Front only</option>
                                    <option value="front-left">Front + Left</option>
                                    <option value="front-right">Front + Right</option>
                                    <option value="front-both">Front + Both Sides</option>
                                    <option value="all">All Sides (Island)</option>
                                </select>
                            </div>
                        </div>
                        <!-- Waterfall Sides Section -->
                        <div class="waterfall-section">
                            <div class="waterfall-toggle">
                                <label class="waterfall-checkbox">
                                    <input type="checkbox" class="waterfall-enabled" onchange="toggleWaterfall(this); calculateAll()">
                                    <span class="waterfall-label">Add Waterfall Sides</span>
                                    <span class="waterfall-info" title="Waterfall sides extend the countertop vertically down to the floor">?</span>
                                </label>
                            </div>
                            <div class="waterfall-options" style="display: none;">
                                <div class="waterfall-sides">
                                    <label class="waterfall-side-option">
                                        <input type="checkbox" class="waterfall-left" onchange="calculateAll()">
                                        <span>Left Side</span>
                                    </label>
                                    <label class="waterfall-side-option">
                                        <input type="checkbox" class="waterfall-right" onchange="calculateAll()">
                                        <span>Right Side</span>
                                    </label>
                                </div>
                                <div class="waterfall-height-group">
                                    <label>Drop Height</label>
                                    <select class="waterfall-height" onchange="calculateAll()">
                                        <option value="36">36" (Standard Counter)</option>
                                        <option value="42">42" (Bar Height)</option>
                                        <option value="30">30" (Desk Height)</option>
                                        <option value="custom">Custom...</option>
                                    </select>
                                    <input type="number" class="waterfall-custom-height" placeholder="Height in inches" min="12" max="48" style="display: none;" oninput="calculateAll()">
                                </div>
                            </div>
                        </div>
                        <div class="section-results">
                            <div class="section-sqft">
                                <span class="counter-sqft">0</span> sqft counter
                            </div>
                            <div class="section-sqft backsplash-sqft" style="display: none;">
                                + <span class="splash-sqft">0</span> sqft splash
                            </div>
                            <div class="section-sqft waterfall-sqft" style="display: none;">
                                + <span class="wfall-sqft">0</span> sqft waterfall
                            </div>
                            <div class="section-sqft edge-linear-ft">
                                <span class="edge-lf">0</span> linear ft edge
                            </div>
                        </div>
                    </div>
                </div>

                <button class="add-section-btn" onclick="addSection()">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/>
                    </svg>
                    Add Another Section
                </button>
            </div>

            <div class="results-panel">
                <div class="results-grid">
                    <div class="result-card highlight">
                        <div class="result-label">Total Square Footage</div>
                        <div class="result-value"><span id="totalSqft">0</span> <small>sqft</small></div>
                    </div>
                    <div class="result-card">
                        <div class="result-label">Countertop</div>
                        <div class="result-value"><span id="counterSqft">0</span> <small>sqft</small></div>
                    </div>
                    <div class="result-card">
                        <div class="result-label">Backsplash</div>
                        <div class="result-value"><span id="splashSqft">0</span> <small>sqft</small></div>
                    </div>
                    <div class="result-card" id="waterfallCard" style="display: none;">
                        <div class="result-label">Waterfall Sides</div>
                        <div class="result-value"><span id="waterfallSqft">0</span> <small>sqft</small></div>
                    </div>
                </div>
                <div class="results-grid" style="margin-top: 12px;">
                    <div class="result-card">
                        <div class="result-label">With 10% Waste</div>
                        <div class="result-value"><span id="withWaste">0</span> <small>sqft</small></div>
                    </div>
                    <div class="result-card">
                        <div class="result-label">Edge Linear Feet</div>
                        <div class="result-value"><span id="totalEdgeLF">0</span> <small>lf</small></div>
                    </div>
                    <div class="result-card" id="edgeUpgradeCard" style="display: none;">
                        <div class="result-label">Edge Upgrade</div>
                        <div class="result-value">+$<span id="edgeUpgradeCost">0</span></div>
                    </div>
                </div>

                <div class="estimate-section">
                    <div class="estimate-title">Estimated Installed Price by Tier</div>
                    <div class="estimate-grid tier-grid">
                        <div class="estimate-item tier-budget">
                            <div class="estimate-material">Budget-Friendly</div>
                            <div class="estimate-desc">Basic granite & quartz</div>
                            <div class="estimate-price" id="priceBudget">$0 - $0</div>
                            <div class="estimate-rate">$45-55/sqft</div>
                        </div>
                        <div class="estimate-item tier-popular">
                            <div class="estimate-material">Popular Choice</div>
                            <div class="estimate-desc">Mid-range selections</div>
                            <div class="estimate-price" id="pricePopular">$0 - $0</div>
                            <div class="estimate-rate">$55-75/sqft</div>
                        </div>
                        <div class="estimate-item tier-premium">
                            <div class="estimate-material">Premium</div>
                            <div class="estimate-desc">High-end & exotic</div>
                            <div class="estimate-price" id="pricePremium">$0 - $0</div>
                            <div class="estimate-rate">$75-120/sqft</div>
                        </div>
                    </div>
                    <div class="estimate-disclaimer">* Estimates based on typical project costs. Actual price depends on material selection, edge profile, and layout complexity.</div>
                </div>
            </div>

            <div class="cta-section">
                <p class="cta-text">Save your estimate or request an exact quote!</p>
                <div class="cta-buttons">
                    <button class="cta-btn generate-quote-btn" onclick="generateQuote()">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
                        </svg>
                        Generate Estimate
                    </button>
                    <button class="cta-btn cta-btn-secondary" data-schedule-cta>
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/>
                        </svg>
                        Schedule Free Consultation
                    </button>
                </div>
            </div>
        </div>

        <!-- Tips Section -->
        <div class="tips-section">
            <h3 class="tips-title">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/>
                </svg>
                Measuring Tips
            </h3>
            <div class="tips-grid">
                <div class="tip-item">
                    <div class="tip-icon">1</div>
                    <div class="tip-content">
                        <h4>Measure in Inches</h4>
                        <p>Measure the length along the wall and depth from wall to front edge.</p>
                    </div>
                </div>
                <div class="tip-item">
                    <div class="tip-icon">2</div>
                    <div class="tip-content">
                        <h4>Add Sections for L/U Shapes</h4>
                        <p>Break complex layouts into rectangular sections for accuracy.</p>
                    </div>
                </div>
                <div class="tip-item">
                    <div class="tip-icon">3</div>
                    <div class="tip-content">
                        <h4>Standard Depth is 25"</h4>
                        <p>Most kitchen countertops are 25 inches deep including overhang.</p>
                    </div>
                </div>
                <div class="tip-item">
                    <div class="tip-icon">4</div>
                    <div class="tip-content">
                        <h4>Include Islands Separately</h4>
                        <p>Add a new section for kitchen islands with their own measurements.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Other Tools -->
        <div class="other-tools">
            <h3>Explore More Design Tools</h3>
            <div class="tools-grid">
                <a href="/tools/virtual-kitchen-design-tool/" class="tool-link">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"/>
                    </svg>
                    Virtual Kitchen Designer
                </a>
                <a href="/tools/virtual-bathroom-design-tool/" class="tool-link">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 14v3m4-3v3m4-3v3M3 21h18M3 10h18M3 7l9-4 9 4M4 10h16v11H4V10z"/>
                    </svg>
                    Virtual Bathroom Designer
                </a>
                <a href="/tools/countertop-edge-visualizer/" class="tool-link">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"/>
                    </svg>
                    Countertop Edge Visualizer
                </a>
                <a href="/tools/multi-surface-room-visualizer/" class="tool-link">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01"/>
                    </svg>
                    Room Visualizer
                </a>
            </div>
        </div>
    </div>

    <!-- Estimate Modal -->
    <div class="quote-modal-overlay" id="quoteModal">
        <div class="quote-modal">
            <div class="quote-modal-header">
                <h2>Your Countertop Estimate</h2>
                <p>Surprise Granite Marble & Quartz</p>
                <button class="quote-modal-close" onclick="closeQuoteModal()">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <line x1="18" y1="6" x2="6" y2="18" style="stroke:#ffffff;stroke-width:2.5"></line>
                        <line x1="6" y1="6" x2="18" y2="18" style="stroke:#ffffff;stroke-width:2.5"></line>
                    </svg>
                </button>
            </div>
            <div class="quote-modal-body">
                <div class="quote-summary-section">
                    <h3>Measurements</h3>
                    <div id="quoteSections"></div>
                </div>
                <div class="quote-summary-section">
                    <h3>Summary</h3>
                    <div class="quote-line-items">
                        <div class="quote-line-item">
                            <span class="label">Countertop Area</span>
                            <span class="value" id="quoteCounterSqft">0 sqft</span>
                        </div>
                        <div class="quote-line-item" id="quoteSplashRow" style="display: none;">
                            <span class="label">Backsplash Area</span>
                            <span class="value" id="quoteSplashSqft">0 sqft</span>
                        </div>
                        <div class="quote-line-item">
                            <span class="label">Total with 10% Waste</span>
                            <span class="value" id="quoteTotalSqft">0 sqft</span>
                        </div>
                        <div class="quote-line-item">
                            <span class="label">Edge Profile</span>
                            <span class="value" id="quoteEdgeProfile">Standard</span>
                        </div>
                        <div class="quote-line-item">
                            <span class="label">Total Edge Length</span>
                            <span class="value" id="quoteEdgeLF">0 linear ft</span>
                        </div>
                        <div class="quote-line-item" id="quoteEdgeCostRow" style="display: none;">
                            <span class="label">Edge Upgrade</span>
                            <span class="value" id="quoteEdgeCost">+$0</span>
                        </div>
                    </div>
                </div>
                <div class="quote-summary-section">
                    <h3>Estimated Price Range</h3>
                    <div class="quote-price-tier">
                        <div>
                            <div class="tier-name">Budget-Friendly</div>
                            <div class="tier-desc">Basic granite & quartz</div>
                        </div>
                        <div class="tier-price" id="quotePriceBudget">$0 - $0</div>
                    </div>
                    <div class="quote-price-tier popular">
                        <div>
                            <div class="tier-name">Popular Choice</div>
                            <div class="tier-desc">Mid-range selections</div>
                        </div>
                        <div class="tier-price" id="quotePricePopular">$0 - $0</div>
                    </div>
                    <div class="quote-price-tier">
                        <div>
                            <div class="tier-name">Premium</div>
                            <div class="tier-desc">High-end & exotic</div>
                        </div>
                        <div class="tier-price" id="quotePricePremium">$0 - $0</div>
                    </div>
                </div>
                <div class="quote-date" id="quoteDate"></div>
                <div class="quote-disclaimer">* This is an estimate only. Final pricing depends on material selection, edge profile, cutouts, and layout complexity. Schedule a free in-home estimate for exact pricing.</div>
            </div>
            <div class="quote-email-form" id="quoteEmailForm">
                <h4>Email this estimate to yourself</h4>
                <div class="quote-email-input-row">
                    <input type="email" class="quote-email-input" id="quoteEmailInput" placeholder="Enter your email">
                    <button class="quote-email-submit" onclick="sendQuoteEmail()">Send</button>
                </div>
            </div>
            <div class="quote-modal-actions">
                <button class="quote-action-btn outline" onclick="window.print()">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"/>
                    </svg>
                    Print
                </button>
                <button class="quote-action-btn secondary" onclick="toggleEmailForm()">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
                    </svg>
                    Email
                </button>
                <a href="/get-a-free-estimate/" class="quote-action-btn primary">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/>
                    </svg>
                    Get Exact Quote
                </a>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="simple-footer">
        <div class="footer-cta">
            <h2>Ready to Start Your Project?</h2>
            <p>Free estimates for Phoenix metro homeowners</p>
            <div class="footer-cta-btns">
                <a href="/get-a-free-estimate" class="footer-btn-primary">Get Free Estimate</a>
                <a href="tel:+16028333189" class="footer-btn-secondary">(602) 833-3189</a>
            </div>
        </div>

        <div class="footer-main">
            <div class="footer-grid">
                <div class="footer-col">
                    <h4>Products</h4>
                    <a href="/marketplace/slabs/">Countertops</a>
                    <a href="/materials/all-cabinets">Cabinets</a>
                    <a href="/materials/flooring">Flooring</a>
                    <a href="/materials/all-tile">Tile & Backsplash</a>
                    <a href="https://store.surprisegranite.com" target="_blank">Online Store</a>
                </div>
                <div class="footer-col">
                    <h4>Services</h4>
                    <a href="/services/home/kitchen-remodeling-arizona">Kitchen Remodeling</a>
                    <a href="/services/home/bathroom-remodeling-arizona">Bathroom Remodeling</a>
                    <a href="/get-a-free-estimate">Free Estimate</a>
                    <a href="/tools/virtual-kitchen-design-tool">Design Tools</a>
                </div>
                <div class="footer-col">
                    <h4>Company</h4>
                    <a href="/company/about-us">About Us</a>
                    <a href="/company/project-gallery">Gallery</a>
                    <a href="/company/reviews">Reviews</a>
                    <a href="/blog">Blog</a>
                    <a href="/contact-us">Contact</a>
                </div>
                <div class="footer-col">
                    <h4>Connect</h4>
                    <div class="footer-contact">
                        <p><strong>Service Area:</strong><br>Greater Phoenix, AZ<br>We Come to You!</p>
                        <p><strong>Hours:</strong><br>Mon-Fri 8am-5pm<br>Sat 9am-2pm</p>
                    </div>
                    <div class="footer-socials">
                        <a href="https://www.facebook.com/surprisegranitetops" target="_blank" aria-label="Facebook">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M16.5 6H13.5C12.9477 6 12.5 6.44772 12.5 7V10H16.5C16.6137 9.99748 16.7216 10.0504 16.7892 10.1419C16.8568 10.2334 16.8758 10.352 16.84 10.46L16.1 12.66C16.0318 12.8619 15.8431 12.9984 15.63 13H12.5V20.5C12.5 20.7761 12.2761 21 12 21H9.5C9.22386 21 9 20.7761 9 20.5V13H7.5C7.22386 13 7 12.7761 7 12.5V10.5C7 10.2239 7.22386 10 7.5 10H9V7C9 4.79086 10.7909 3 13 3H16.5C16.7761 3 17 3.22386 17 3.5V5.5C17 5.77614 16.7761 6 16.5 6Z"/></svg>
                        </a>
                        <a href="https://www.instagram.com/surprisegranite/" target="_blank" aria-label="Instagram">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M16 3H8C5.23858 3 3 5.23858 3 8V16C3 18.7614 5.23858 21 8 21H16C18.7614 21 21 18.7614 21 16V8C21 5.23858 18.7614 3 16 3ZM19.25 16C19.2445 17.7926 17.7926 19.2445 16 19.25H8C6.20735 19.2445 4.75549 17.7926 4.75 16V8C4.75549 6.20735 6.20735 4.75549 8 4.75H16C17.7926 4.75549 19.2445 6.20735 19.25 8V16ZM16.75 8.25C17.3023 8.25 17.75 7.80228 17.75 7.25C17.75 6.69772 17.3023 6.25 16.75 6.25C16.1977 6.25 15.75 6.69772 15.75 7.25C15.75 7.80228 16.1977 8.25 16.75 8.25ZM12 7.5C9.51472 7.5 7.5 9.51472 7.5 12C7.5 14.4853 9.51472 16.5 12 16.5C14.4853 16.5 16.5 14.4853 16.5 12C16.5 9.51472 14.4853 7.5 12 7.5ZM9.25 12C9.25 13.5188 10.4812 14.75 12 14.75C13.5188 14.75 14.75 13.5188 14.75 12C14.75 10.4812 13.5188 9.25 12 9.25C10.4812 9.25 9.25 10.4812 9.25 12Z"/></svg>
                        </a>
                        <a href="https://www.youtube.com/@surprisegranite6491" target="_blank" aria-label="YouTube">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M19.9999 4.48992C21.7284 4.68529 23.0264 6.16064 22.9999 7.89992V16.0999C23.0264 17.8392 21.7284 19.3146 19.9999 19.5099L18.5999 19.6599C14.2315 20.1099 9.82835 20.1099 5.45991 19.6599L3.99991 19.5099C2.27143 19.3146 0.973464 17.8392 0.999909 16.0999V7.89992C0.973464 6.16064 2.27143 4.68529 3.99991 4.48992L5.39991 4.33992C9.76835 3.88995 14.1715 3.88995 18.5399 4.33992L19.9999 4.48992ZM11.1099 15.2199L14.9999 12.6199C15.2695 12.4833 15.3959 12.2501 15.3959 11.9999C15.3959 11.7497 15.2695 11.5165 15.0599 11.3799L11.1699 8.77992C10.9402 8.62469 10.6437 8.60879 10.3987 8.73859C10.1538 8.86839 10.0004 9.12271 9.99991 9.39992V14.5999C10.0128 14.858 10.1576 15.0913 10.3832 15.2173C10.6088 15.3433 10.8834 15.3443 11.1099 15.2199Z"/></svg>
                        </a>
                        <a href="https://www.pinterest.com/surprisegranite1/" target="_blank" aria-label="Pinterest">
                            <svg width="20" height="20" viewBox="0 0 32 32" fill="currentColor"><path d="M16 2a14 14 0 0 0-5.1 27a13.24 13.24 0 0 1 0-4l1.65-7a5.05 5.05 0 0 1-.38-2c0-1.94 1.13-3.4 2.53-3.4a1.76 1.76 0 0 1 1.77 2c0 1.2-.76 3-1.16 4.66a2 2 0 0 0 2.08 2.53c2.48 0 4.4-2.63 4.4-6.41a5.53 5.53 0 0 0-5.85-5.7a6.06 6.06 0 0 0-6.32 6.08a5.42 5.42 0 0 0 1 3.19a.44.44 0 0 1 .1.4c-.11.44-.35 1.4-.39 1.59s-.21.31-.47.19c-1.75-.82-2.84-3.37-2.84-5.43c0-4.41 3.21-8.47 9.25-8.47c4.85 0 8.63 3.46 8.63 8.09c0 4.82-3 8.7-7.27 8.7a3.76 3.76 0 0 1-3.21-1.6l-.87 3.33a15.55 15.55 0 0 1-1.74 3.67A14.17 14.17 0 0 0 16 30a14 14 0 0 0 0-28"/></svg>
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <div class="footer-bottom">
            <div class="footer-bottom-inner">
                <div class="footer-legal">
                    <a href="/legal/privacy-policy">Privacy</a>
                    <a href="/legal/terms-of-use">Terms</a>
                    <a href="/legal/lifetime-warranty">Warranty</a>
                    <a href="https://azroc.my.site.com/AZRoc/s/contractor-search?licenseId=a0o8y000000OAdvAAG" target="_blank">ROC #341113</a>
                </div>
                <div class="footer-copy">&copy; 2025 Surprise Granite Marble & Quartz</div>
                <div class="footer-payments">
                    <img src="https://cdn.prod.website-files.com/6456ce4476abb25581fbad0c/6456ce4476abb2ee83fbb125_visa.png" alt="Visa" width="32">
                    <img src="https://cdn.prod.website-files.com/6456ce4476abb25581fbad0c/6456ce4476abb26f2bfbb121_mastercard.png" alt="Mastercard" width="32">
                    <img src="https://cdn.prod.website-files.com/6456ce4476abb25581fbad0c/6456ce4476abb280abfbb124_discover.png" alt="Discover" width="32">
                    <img src="https://cdn.prod.website-files.com/6456ce4476abb25581fbad0c/6456ce4476abb2b84cfbb122_amex.png" alt="Amex" width="32">
                </div>
            </div>
        </div>
    </footer>

    <style>
    /* Footer Styles */
    .simple-footer { background: #1a1a2e; color: #fff; }
    .footer-cta { background: linear-gradient(135deg, #f9cb00, #e6b800); padding: 48px 24px; text-align: center; }
    .footer-cta h2 { color: #1a1a2e; font-size: 28px; margin: 0 0 8px 0; font-weight: 700; }
    .footer-cta p { color: rgba(26,26,46,0.8); font-size: 16px; margin: 0 0 24px 0; }
    .footer-cta-btns { display: flex; gap: 12px; justify-content: center; flex-wrap: wrap; }
    .footer-btn-primary { background: #1a1a2e; color: #f9cb00; padding: 14px 28px; border-radius: 8px; text-decoration: none; font-weight: 700; transition: all 0.2s; }
    .footer-btn-primary:hover { background: #0f0f1a; }
    .footer-btn-secondary { background: transparent; border: 2px solid #1a1a2e; color: #1a1a2e; padding: 12px 28px; border-radius: 8px; text-decoration: none; font-weight: 700; transition: all 0.2s; }
    .footer-btn-secondary:hover { background: rgba(26,26,46,0.1); }
    .footer-main { padding: 48px 24px; max-width: 1100px; margin: 0 auto; }
    .footer-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 40px; }
    @media (max-width: 800px) { .footer-grid { grid-template-columns: repeat(2, 1fr); gap: 32px; } }
    @media (max-width: 500px) { .footer-grid { grid-template-columns: 1fr; } }
    .footer-col h4 { color: #f9cb00; font-size: 14px; text-transform: uppercase; letter-spacing: 1px; margin: 0 0 16px 0; font-weight: 600; }
    .footer-col a { display: block; color: rgba(255,255,255,0.8); text-decoration: none; font-size: 14px; padding: 6px 0; transition: color 0.2s; }
    .footer-col a:hover { color: #f9cb00; }
    .footer-contact { margin-bottom: 16px; }
    .footer-contact p { font-size: 13px; color: rgba(255,255,255,0.7); margin: 0 0 12px 0; line-height: 1.5; }
    .footer-contact strong { color: rgba(255,255,255,0.9); }
    .footer-socials { display: flex; gap: 12px; }
    .footer-socials a { color: rgba(255,255,255,0.6); transition: color 0.2s; padding: 0; }
    .footer-socials a:hover { color: #f9cb00; }
    .footer-bottom { border-top: 1px solid rgba(255,255,255,0.1); padding: 20px 24px; }
    .footer-bottom-inner { max-width: 1100px; margin: 0 auto; display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 16px; }
    .footer-legal { display: flex; gap: 16px; }
    .footer-legal a { color: rgba(255,255,255,0.5); text-decoration: none; font-size: 12px; }
    .footer-legal a:hover { color: #f9cb00; }
    .footer-copy { color: rgba(255,255,255,0.4); font-size: 12px; }
    .footer-payments { display: flex; gap: 8px; }
    .footer-payments img { height: 20px; width: auto; opacity: 0.7; }
    @media (max-width: 700px) { .footer-bottom-inner { flex-direction: column; text-align: center; } }
    </style>

    <!-- Calculator Script -->
    <script>
        let sectionCount = 1;

        // Price tiers per sqft (installed)
        const tiers = {
            budget: { min: 45, max: 55 },    // Budget-Friendly
            popular: { min: 55, max: 75 },   // Popular Choice
            premium: { min: 75, max: 120 }   // Premium
        };

        const fractionOptions = `
            <option value="0">0</option>
            <option value="0.0625">1/16</option>
            <option value="0.125">1/8</option>
            <option value="0.1875">3/16</option>
            <option value="0.25">1/4</option>
            <option value="0.3125">5/16</option>
            <option value="0.375">3/8</option>
            <option value="0.4375">7/16</option>
            <option value="0.5">1/2</option>
            <option value="0.5625">9/16</option>
            <option value="0.625">5/8</option>
            <option value="0.6875">11/16</option>
            <option value="0.75">3/4</option>
            <option value="0.8125">13/16</option>
            <option value="0.875">7/8</option>
            <option value="0.9375">15/16</option>
        `;

        function addSection() {
            sectionCount++;
            const container = document.getElementById('sections');
            const section = document.createElement('div');
            section.className = 'countertop-section';
            section.dataset.index = sectionCount - 1;
            section.innerHTML = `
                <div class="section-header">
                    <span class="section-label">Section ${sectionCount}</span>
                    <button class="remove-btn" onclick="removeSection(this)">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/>
                        </svg>
                    </button>
                </div>
                <div class="input-row">
                    <div class="input-group">
                        <label>Length</label>
                        <div class="measurement-inputs">
                            <div class="input-wrapper">
                                <input type="number" class="length-whole" placeholder="0" min="0" step="1" oninput="calculateAll()">
                            </div>
                            <select class="fraction-select length-fraction" onchange="calculateAll()">
                                ${fractionOptions}
                            </select>
                            <span class="input-unit-label">in</span>
                        </div>
                    </div>
                    <div class="input-group">
                        <label>Depth</label>
                        <div class="measurement-inputs">
                            <div class="input-wrapper">
                                <input type="number" class="depth-whole" placeholder="25" value="25" min="0" step="1" oninput="calculateAll()">
                            </div>
                            <select class="fraction-select depth-fraction" onchange="calculateAll()">
                                ${fractionOptions.replace('value="0.5">1/2', 'value="0.5" selected>1/2')}
                            </select>
                            <span class="input-unit-label">in</span>
                        </div>
                    </div>
                    <div class="input-group">
                        <label>Backsplash</label>
                        <select class="backsplash-select" onchange="calculateAll()">
                            <option value="0">None</option>
                            <option value="4">4" Standard</option>
                            <option value="6">6" Tall</option>
                            <option value="18">18" Full Height</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label>Finished Edges</label>
                        <select class="finished-edges-select" onchange="calculateAll()">
                            <option value="front">Front only</option>
                            <option value="front-left">Front + Left</option>
                            <option value="front-right">Front + Right</option>
                            <option value="front-both">Front + Both Sides</option>
                            <option value="all">All Sides (Island)</option>
                        </select>
                    </div>
                </div>
                <!-- Waterfall Sides Section -->
                <div class="waterfall-section">
                    <div class="waterfall-toggle">
                        <label class="waterfall-checkbox">
                            <input type="checkbox" class="waterfall-enabled" onchange="toggleWaterfall(this); calculateAll()">
                            <span class="waterfall-label">Add Waterfall Sides</span>
                            <span class="waterfall-info" title="Waterfall sides extend the countertop vertically down to the floor">?</span>
                        </label>
                    </div>
                    <div class="waterfall-options" style="display: none;">
                        <div class="waterfall-sides">
                            <label class="waterfall-side-option">
                                <input type="checkbox" class="waterfall-left" onchange="calculateAll()">
                                <span>Left Side</span>
                            </label>
                            <label class="waterfall-side-option">
                                <input type="checkbox" class="waterfall-right" onchange="calculateAll()">
                                <span>Right Side</span>
                            </label>
                        </div>
                        <div class="waterfall-height-group">
                            <label>Drop Height</label>
                            <select class="waterfall-height" onchange="calculateAll()">
                                <option value="36">36" (Standard Counter)</option>
                                <option value="42">42" (Bar Height)</option>
                                <option value="30">30" (Desk Height)</option>
                                <option value="custom">Custom...</option>
                            </select>
                            <input type="number" class="waterfall-custom-height" placeholder="Height in inches" min="12" max="48" style="display: none;" oninput="calculateAll()">
                        </div>
                    </div>
                </div>
                <div class="section-results">
                    <div class="section-sqft">
                        <span class="counter-sqft">0</span> sqft counter
                    </div>
                    <div class="section-sqft backsplash-sqft" style="display: none;">
                        + <span class="splash-sqft">0</span> sqft splash
                    </div>
                    <div class="section-sqft waterfall-sqft" style="display: none;">
                        + <span class="wfall-sqft">0</span> sqft waterfall
                    </div>
                    <div class="section-sqft edge-linear-ft">
                        <span class="edge-lf">0</span> linear ft edge
                    </div>
                </div>
            `;
            container.appendChild(section);
            updateSectionCount();
            calculateAll();

            // Focus the new length input
            section.querySelector('.length-whole').focus();
        }

        function removeSection(btn) {
            const section = btn.closest('.countertop-section');
            section.remove();
            renumberSections();
            updateSectionCount();
            calculateAll();
        }

        function renumberSections() {
            const sections = document.querySelectorAll('.countertop-section');
            sections.forEach((section, index) => {
                section.querySelector('.section-label').textContent = `Section ${index + 1}`;
                section.dataset.index = index;
            });
            sectionCount = sections.length;
        }

        function updateSectionCount() {
            const count = document.querySelectorAll('.countertop-section').length;
            document.getElementById('sectionCount').textContent = count;
        }

        function toggleWaterfall(checkbox) {
            const section = checkbox.closest('.countertop-section');
            const options = section.querySelector('.waterfall-options');
            options.style.display = checkbox.checked ? 'block' : 'none';

            // Also handle waterfall height custom input
            const heightSelect = section.querySelector('.waterfall-height');
            const customInput = section.querySelector('.waterfall-custom-height');
            if (heightSelect && customInput) {
                heightSelect.onchange = function() {
                    customInput.style.display = this.value === 'custom' ? 'block' : 'none';
                    calculateAll();
                };
            }
        }

        function calculateAll() {
            const sections = document.querySelectorAll('.countertop-section');
            let totalCounterSqft = 0;
            let totalSplashSqft = 0;
            let totalWaterfallSqft = 0;
            let totalEdgeLF = 0;

            // Get edge tier price per linear foot
            const edgeTierInput = document.querySelector('input[name="edge-tier"]:checked');
            const edgePricePerLF = edgeTierInput ? parseFloat(edgeTierInput.value) : 0;

            sections.forEach(section => {
                // Get length: whole number + fraction
                const lengthWhole = parseFloat(section.querySelector('.length-whole').value) || 0;
                const lengthFraction = parseFloat(section.querySelector('.length-fraction').value) || 0;
                const length = lengthWhole + lengthFraction;

                // Get depth: whole number + fraction
                const depthWhole = parseFloat(section.querySelector('.depth-whole').value) || 0;
                const depthFraction = parseFloat(section.querySelector('.depth-fraction').value) || 0;
                const depth = depthWhole + depthFraction;

                // Get backsplash height
                const backsplashHeight = parseFloat(section.querySelector('.backsplash-select').value) || 0;

                // Get finished edges configuration
                const finishedEdges = section.querySelector('.finished-edges-select').value;

                // Calculate countertop sqft
                const counterSqft = (length * depth) / 144; // Convert sq inches to sq feet
                section.querySelector('.counter-sqft').textContent = counterSqft.toFixed(2);
                totalCounterSqft += counterSqft;

                // Calculate backsplash sqft
                const splashSqft = (length * backsplashHeight) / 144;
                const splashDisplay = section.querySelector('.backsplash-sqft');
                if (backsplashHeight > 0) {
                    section.querySelector('.splash-sqft').textContent = splashSqft.toFixed(2);
                    splashDisplay.style.display = 'block';
                } else {
                    splashDisplay.style.display = 'none';
                }
                totalSplashSqft += splashSqft;

                // Calculate edge linear feet based on finished edges selection
                let edgeLF = 0;
                const lengthFt = length / 12;
                const depthFt = depth / 12;
                switch(finishedEdges) {
                    case 'front':
                        edgeLF = lengthFt;
                        break;
                    case 'front-left':
                    case 'front-right':
                        edgeLF = lengthFt + depthFt;
                        break;
                    case 'front-both':
                        edgeLF = lengthFt + (depthFt * 2);
                        break;
                    case 'all':
                        edgeLF = (lengthFt * 2) + (depthFt * 2);
                        break;
                }
                section.querySelector('.edge-lf').textContent = edgeLF.toFixed(1);
                totalEdgeLF += edgeLF;

                // Calculate waterfall sides square footage
                let waterfallSqft = 0;
                const waterfallEnabled = section.querySelector('.waterfall-enabled')?.checked;
                const waterfallDisplay = section.querySelector('.waterfall-sqft');

                if (waterfallEnabled) {
                    const waterfallLeft = section.querySelector('.waterfall-left')?.checked;
                    const waterfallRight = section.querySelector('.waterfall-right')?.checked;
                    const heightSelect = section.querySelector('.waterfall-height');
                    const customHeight = section.querySelector('.waterfall-custom-height');

                    // Get waterfall drop height
                    let waterfallHeight = 36; // Default 36" counter height
                    if (heightSelect) {
                        if (heightSelect.value === 'custom') {
                            waterfallHeight = parseFloat(customHeight?.value) || 36;
                        } else {
                            waterfallHeight = parseFloat(heightSelect.value) || 36;
                        }
                    }

                    // Waterfall side uses depth (front-to-back) as width, waterfallHeight as height
                    // Each waterfall side = depth * waterfallHeight (in sq inches, convert to sq ft)
                    if (waterfallLeft) {
                        waterfallSqft += (depth * waterfallHeight) / 144;
                    }
                    if (waterfallRight) {
                        waterfallSqft += (depth * waterfallHeight) / 144;
                    }
                }

                // Update waterfall display
                if (waterfallDisplay) {
                    if (waterfallSqft > 0) {
                        section.querySelector('.wfall-sqft').textContent = waterfallSqft.toFixed(2);
                        waterfallDisplay.style.display = 'block';
                    } else {
                        waterfallDisplay.style.display = 'none';
                    }
                }
                totalWaterfallSqft += waterfallSqft;
            });

            // Calculate totals
            const totalSqft = totalCounterSqft + totalSplashSqft + totalWaterfallSqft;
            const edgeUpgradeCost = totalEdgeLF * edgePricePerLF;

            // Update totals display
            document.getElementById('totalSqft').textContent = totalSqft.toFixed(2);
            document.getElementById('counterSqft').textContent = totalCounterSqft.toFixed(2);
            document.getElementById('splashSqft').textContent = totalSplashSqft.toFixed(2);
            document.getElementById('withWaste').textContent = (totalSqft * 1.1).toFixed(2);
            document.getElementById('totalEdgeLF').textContent = totalEdgeLF.toFixed(1);

            // Show/hide waterfall sqft
            const waterfallCard = document.getElementById('waterfallCard');
            if (totalWaterfallSqft > 0) {
                document.getElementById('waterfallSqft').textContent = totalWaterfallSqft.toFixed(2);
                waterfallCard.style.display = 'block';
            } else {
                waterfallCard.style.display = 'none';
            }

            // Show/hide edge upgrade cost
            const edgeUpgradeCard = document.getElementById('edgeUpgradeCard');
            if (edgePricePerLF > 0) {
                document.getElementById('edgeUpgradeCost').textContent = Math.round(edgeUpgradeCost).toLocaleString();
                edgeUpgradeCard.style.display = 'block';
            } else {
                edgeUpgradeCard.style.display = 'none';
            }

            // Update tier-based price estimates (using sqft with waste factor + edge upgrade)
            const sqftWithWaste = totalSqft * 1.1;

            // Budget tier (add edge upgrade cost)
            const budgetMin = Math.round(sqftWithWaste * tiers.budget.min + edgeUpgradeCost);
            const budgetMax = Math.round(sqftWithWaste * tiers.budget.max + edgeUpgradeCost);
            document.getElementById('priceBudget').textContent = '$' + budgetMin.toLocaleString() + ' - $' + budgetMax.toLocaleString();

            // Popular tier (add edge upgrade cost)
            const popularMin = Math.round(sqftWithWaste * tiers.popular.min + edgeUpgradeCost);
            const popularMax = Math.round(sqftWithWaste * tiers.popular.max + edgeUpgradeCost);
            document.getElementById('pricePopular').textContent = '$' + popularMin.toLocaleString() + ' - $' + popularMax.toLocaleString();

            // Premium tier (add edge upgrade cost)
            const premiumMin = Math.round(sqftWithWaste * tiers.premium.min + edgeUpgradeCost);
            const premiumMax = Math.round(sqftWithWaste * tiers.premium.max + edgeUpgradeCost);
            document.getElementById('pricePremium').textContent = '$' + premiumMin.toLocaleString() + ' - $' + premiumMax.toLocaleString();
        }

        // Initialize
        calculateAll();

        // Quote Modal Functions
        function generateQuote() {
            const sections = document.querySelectorAll('.countertop-section');
            const quoteSectionsEl = document.getElementById('quoteSections');
            quoteSectionsEl.innerHTML = '';

            let totalCounterSqft = 0;
            let totalSplashSqft = 0;
            let totalEdgeLF = 0;

            // Get edge tier
            const edgeTierInput = document.querySelector('input[name="edge-tier"]:checked');
            const edgePricePerLF = edgeTierInput ? parseFloat(edgeTierInput.value) : 0;
            const edgeNames = { '0': 'Standard (Included)', '5': 'Designer (+$5/lf)', '10': 'Premium (+$10/lf)' };
            const edgeName = edgeNames[edgeTierInput.value] || 'Standard';

            // Build section details
            sections.forEach((section, index) => {
                const lengthWhole = parseFloat(section.querySelector('.length-whole').value) || 0;
                const lengthFraction = parseFloat(section.querySelector('.length-fraction').value) || 0;
                const length = lengthWhole + lengthFraction;

                const depthWhole = parseFloat(section.querySelector('.depth-whole').value) || 0;
                const depthFraction = parseFloat(section.querySelector('.depth-fraction').value) || 0;
                const depth = depthWhole + depthFraction;

                const backsplashHeight = parseFloat(section.querySelector('.backsplash-select').value) || 0;
                const finishedEdges = section.querySelector('.finished-edges-select').value;

                const counterSqft = (length * depth) / 144;
                const splashSqft = (length * backsplashHeight) / 144;

                // Calculate edge linear feet
                let edgeLF = 0;
                const lengthFt = length / 12;
                const depthFt = depth / 12;
                const edgeLabels = {
                    'front': 'Front',
                    'front-left': 'Front + Left',
                    'front-right': 'Front + Right',
                    'front-both': 'Front + Both Sides',
                    'all': 'All Sides'
                };
                switch(finishedEdges) {
                    case 'front': edgeLF = lengthFt; break;
                    case 'front-left':
                    case 'front-right': edgeLF = lengthFt + depthFt; break;
                    case 'front-both': edgeLF = lengthFt + (depthFt * 2); break;
                    case 'all': edgeLF = (lengthFt * 2) + (depthFt * 2); break;
                }

                totalCounterSqft += counterSqft;
                totalSplashSqft += splashSqft;
                totalEdgeLF += edgeLF;

                // Format dimensions with fractions
                const formatDim = (whole, frac) => {
                    const fracs = {'0':'', '0.0625':' 1/16', '0.125':' 1/8', '0.1875':' 3/16', '0.25':' 1/4', '0.3125':' 5/16', '0.375':' 3/8', '0.4375':' 7/16', '0.5':' 1/2', '0.5625':' 9/16', '0.625':' 5/8', '0.6875':' 11/16', '0.75':' 3/4', '0.8125':' 13/16', '0.875':' 7/8', '0.9375':' 15/16'};
                    return whole + (fracs[String(frac)] || '') + '"';
                };

                const lengthFracVal = section.querySelector('.length-fraction').value;
                const depthFracVal = section.querySelector('.depth-fraction').value;

                let sectionHtml = `
                    <div class="quote-section-detail">
                        <div class="section-name">Section ${index + 1}</div>
                        <div class="section-dims">
                            ${formatDim(lengthWhole, lengthFracVal)}  ${formatDim(depthWhole, depthFracVal)} = ${counterSqft.toFixed(2)} sqft
                            ${backsplashHeight > 0 ? `<br>Backsplash: ${backsplashHeight}" height = ${splashSqft.toFixed(2)} sqft` : ''}
                            <br>Edges: ${edgeLabels[finishedEdges]} (${edgeLF.toFixed(1)} lf)
                        </div>
                    </div>
                `;
                quoteSectionsEl.innerHTML += sectionHtml;
            });

            // Calculate totals
            const totalSqft = totalCounterSqft + totalSplashSqft;
            const sqftWithWaste = totalSqft * 1.1;
            const edgeUpgradeCost = totalEdgeLF * edgePricePerLF;

            // Update modal summary
            document.getElementById('quoteCounterSqft').textContent = totalCounterSqft.toFixed(2) + ' sqft';

            const splashRow = document.getElementById('quoteSplashRow');
            if (totalSplashSqft > 0) {
                document.getElementById('quoteSplashSqft').textContent = totalSplashSqft.toFixed(2) + ' sqft';
                splashRow.style.display = 'flex';
            } else {
                splashRow.style.display = 'none';
            }

            document.getElementById('quoteTotalSqft').textContent = sqftWithWaste.toFixed(2) + ' sqft';
            document.getElementById('quoteEdgeProfile').textContent = edgeName;
            document.getElementById('quoteEdgeLF').textContent = totalEdgeLF.toFixed(1) + ' linear ft';

            const edgeCostRow = document.getElementById('quoteEdgeCostRow');
            if (edgePricePerLF > 0) {
                document.getElementById('quoteEdgeCost').textContent = '+$' + Math.round(edgeUpgradeCost).toLocaleString();
                edgeCostRow.style.display = 'flex';
            } else {
                edgeCostRow.style.display = 'none';
            }

            // Update price tiers
            document.getElementById('quotePriceBudget').textContent = document.getElementById('priceBudget').textContent;
            document.getElementById('quotePricePopular').textContent = document.getElementById('pricePopular').textContent;
            document.getElementById('quotePricePremium').textContent = document.getElementById('pricePremium').textContent;

            // Set date
            const today = new Date();
            document.getElementById('quoteDate').textContent = 'Estimate generated on ' + today.toLocaleDateString('en-US', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' });

            // Show modal
            document.getElementById('quoteModal').classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function closeQuoteModal() {
            document.getElementById('quoteModal').classList.remove('active');
            document.getElementById('quoteEmailForm').classList.remove('active');
            document.body.style.overflow = '';
        }

        function toggleEmailForm() {
            document.getElementById('quoteEmailForm').classList.toggle('active');
            if (document.getElementById('quoteEmailForm').classList.contains('active')) {
                document.getElementById('quoteEmailInput').focus();
            }
        }

        function sendQuoteEmail() {
            const email = document.getElementById('quoteEmailInput').value;
            if (!email || !email.includes('@')) {
                alert('Please enter a valid email address');
                return;
            }

            // Collect estimate data
            const estimateData = {
                email: email,
                counterSqft: document.getElementById('quoteCounterSqft').textContent,
                splashSqft: document.getElementById('quoteSplashSqft').textContent,
                totalSqft: document.getElementById('quoteTotalSqft').textContent,
                edgeProfile: document.getElementById('quoteEdgeProfile').textContent,
                edgeLF: document.getElementById('quoteEdgeLF').textContent,
                priceBudget: document.getElementById('quotePriceBudget').textContent,
                pricePopular: document.getElementById('quotePricePopular').textContent,
                pricePremium: document.getElementById('quotePricePremium').textContent,
                date: new Date().toISOString()
            };

            // Send estimate via email API
            const apiUrl = window.location.hostname === 'localhost'
                ? '/api/send-estimate'
                : 'https://surprise-granite-email-api.onrender.com/api/send-estimate';

            fetch(apiUrl, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(estimateData)
            })
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    alert('Estimate sent to ' + email + '! Check your inbox.');
                } else {
                    alert('There was an issue sending the email. Please try again.');
                }
                document.getElementById('quoteEmailForm').classList.remove('active');
                document.getElementById('quoteEmailInput').value = '';
            })
            .catch(error => {
                console.error('Email error:', error);
                alert('There was an issue sending the email. Please try again or call us at (602) 833-3189.');
                document.getElementById('quoteEmailForm').classList.remove('active');
            });
        }

        // Close modal on overlay click
        document.getElementById('quoteModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeQuoteModal();
            }
        });

        // Close modal on Escape key
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                closeQuoteModal();
            }
        });
    </script>

    <!-- Mobile Menu Toggle -->
    <script>
    function toggleMobileMenu() {
        var nav = document.getElementById('mobileNav');
        nav.classList.toggle('open');
    }
    </script>

    <!-- Footer -->
    <footer class="site-footer">
        <div class="footer-content">
            <div class="footer-links">
                <a href="/marketplace/slabs/">Countertops</a>
                <a href="/materials/flooring">Flooring</a>
                <a href="/tools">All Tools</a>
                <a href="/contact-us">Contact</a>
                <a href="/get-a-free-estimate">Free Estimate</a>
            </div>
            <p class="footer-copyright">
                &copy; 2024 <a href="/">Surprise Granite</a>. All rights reserved.
            </p>
        </div>
    </footer>
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script src="/js/auth-state.js?v=2.0.1"></script>
<script src="/js/user-tracking.js"></script>
<script src="/js/site-search.js"></script>

<!-- Rate Limiter -->
<script src="/js/rate-limiter.js"></script>

<!-- Remodely Tools Hub -->
<script defer src="/js/remodely-hub.js?v=20260118"></script>

<!-- Universal Scheduling Widget -->
<script src="/js/schedule-cta.js"></script>
</body>
</html>
